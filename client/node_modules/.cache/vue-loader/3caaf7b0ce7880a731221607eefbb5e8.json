{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\qichexinxi\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\qichexinxi\\list.vue","mtime":1764768812590},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBZGRPclVwZGF0ZSBmcm9tICIuL2FkZC1vci11cGRhdGUiOwppbXBvcnQgenVjaGVkaW5nZGFuQ3Jvc3NBZGRPclVwZGF0ZSBmcm9tICIuLi96dWNoZWRpbmdkYW4vYWRkLW9yLXVwZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcWljaGVsZWliaWVPcHRpb25zOiBbXSwKICAgICAgemh1YW5ndGFpT3B0aW9uczogW10sCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBjaGVwYWloYW86ICIiLAogICAgICAgIHFpY2hlbGVpYmllOiAiIiwKICAgICAgICBjaGVsaWFuZ3BpbnBhaTogIiIsCiAgICAgICAgemh1YW5ndGFpOiAiIgogICAgICB9LAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbFBhZ2U6IDAsCiAgICAgIGRhdGFMaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGRhdGFMaXN0U2VsZWN0aW9uczogW10sCiAgICAgIHNob3dGbGFnOiB0cnVlLAogICAgICBhZGRPclVwZGF0ZUZsYWc6ZmFsc2UsCiAgICAgIHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGVGbGFnOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBZGRPclVwZGF0ZSwKICAgIHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGUsCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0ICgpIHsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiBgb3B0aW9uL3FpY2hlbGVpYmllL3FpY2hlbGVpYmllYCwKICAgICAgICBtZXRob2Q6ICJnZXQiCiAgICAgIH0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICB0aGlzLnFpY2hlbGVpYmllT3B0aW9ucyA9IGRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnpodWFuZ3RhaU9wdGlvbnMgPSAi5bey5Ye656efLOacquWHuuennyIuc3BsaXQoJywnKQogICAgfSwKICAgIC8vIOmHjee9ruaMiemSrumAu+i+kQogICAgcmVzZXRGb3JtKCkgewogICAgICB0aGlzLnNlYXJjaEZvcm0gPSB7CiAgICAgICAgY2hlcGFpaGFvOiAiIiwKICAgICAgICBxaWNoZWxlaWJpZTogIiIsCiAgICAgICAgY2hlbGlhbmdwaW5wYWk6ICIiLAogICAgICAgIHpodWFuZ3RhaTogIiIKICAgICAgfTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGdldERhdGFMaXN0KCkgewogICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgc29ydDogJ2lkJywKICAgICAgICBvcmRlcjogJ2Rlc2MnLAogICAgICAgIC4uLnRoaXMuc2VhcmNoRm9ybQogICAgICB9CiAgICAgIC8vIOa4heeQhuepuuWAvAogICAgICBmb3IobGV0IGtleSBpbiBwYXJhbXMpewogICAgICAgIGlmKHBhcmFtc1trZXldID09PSAnJyB8fCBwYXJhbXNba2V5XSA9PT0gdW5kZWZpbmVkKXsKICAgICAgICAgIGRlbGV0ZSBwYXJhbXNba2V5XTsKICAgICAgICB9IGVsc2UgaWYoa2V5ICE9PSAncGFnZScgJiYga2V5ICE9PSAnbGltaXQnICYmIGtleSAhPT0gJ3NvcnQnICYmIGtleSAhPT0gJ29yZGVyJyl7CiAgICAgICAgICBwYXJhbXNba2V5XSA9ICclJyArIHBhcmFtc1trZXldICsgJyUnIC8vIOaooeeziuafpeivouWkhOeQhgogICAgICAgICAgLy8g5a+55LqO5LiL5ouJ5qGG77yM6YCa5bi45piv57K+56Gu5Yy56YWNCiAgICAgICAgICBpZihrZXkgPT09ICdxaWNoZWxlaWJpZScgfHwga2V5ID09PSAnemh1YW5ndGFpJykgcGFyYW1zW2tleV0gPSB0aGlzLnNlYXJjaEZvcm1ba2V5XTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogInFpY2hleGlueGkvcGFnZSIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGEuZGF0YS5saXN0OwogICAgICAgICAgdGhpcy50b3RhbFBhZ2UgPSBkYXRhLmRhdGEudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgIHRoaXMudG90YWxQYWdlID0gMDsKICAgICAgICB9CiAgICAgICAgdGhpcy5kYXRhTGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlSW5kZXggPSB2YWw7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyKHZhbCkgewogICAgICB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucyA9IHZhbDsKICAgIH0sCiAgICBhZGRPclVwZGF0ZUhhbmRsZXIoaWQsdHlwZSkgewogICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuYWRkT3JVcGRhdGVGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5jcm9zc0FkZE9yVXBkYXRlRmxhZyA9IGZhbHNlOwogICAgICBpZih0eXBlIT0naW5mbycpewogICAgICAgIHR5cGUgPSAnZWxzZSc7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuYWRkT3JVcGRhdGUuaW5pdChpZCx0eXBlKTsKICAgICAgfSk7CiAgICB9LAogICAgenVjaGVkaW5nZGFuQ3Jvc3NBZGRPclVwZGF0ZUhhbmRsZXIocm93LHR5cGUsY3Jvc3NPcHRBdWRpdCxzdGF0dXNDb2x1bW5OYW1lLHRpcHMsc3RhdHVzQ29sdW1uVmFsdWUpewogICAgICB0aGlzLnNob3dGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuYWRkT3JVcGRhdGVGbGFnID0gZmFsc2U7CiAgICAgIHRoaXMuenVjaGVkaW5nZGFuQ3Jvc3NBZGRPclVwZGF0ZUZsYWcgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yYWdlLnNldCgnY3Jvc3NPYmonLHJvdyk7CiAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdjcm9zc1RhYmxlJywncWljaGV4aW54aScpOwogICAgICB0aGlzLiRzdG9yYWdlLnNldCgnc3RhdHVzQ29sdW1uTmFtZScsc3RhdHVzQ29sdW1uTmFtZSk7CiAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdzdGF0dXNDb2x1bW5WYWx1ZScsc3RhdHVzQ29sdW1uVmFsdWUpOwogICAgICB0aGlzLiRzdG9yYWdlLnNldCgndGlwcycsdGlwcyk7CiAgICAgIGlmKHN0YXR1c0NvbHVtbk5hbWUhPScnJiYhc3RhdHVzQ29sdW1uTmFtZS5zdGFydHNXaXRoKCJbIikpIHsKICAgICAgICB2YXIgb2JqID0gdGhpcy4kc3RvcmFnZS5nZXRPYmooJ2Nyb3NzT2JqJyk7CiAgICAgICAgZm9yICh2YXIgbyBpbiBvYmopewogICAgICAgICAgaWYobz09c3RhdHVzQ29sdW1uTmFtZSAmJiBvYmpbb109PXN0YXR1c0NvbHVtblZhbHVlKXsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogdGlwcywKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuc2hvd0ZsYWcgPSB0cnVlOwogICAgICAgICAgICB0aGlzLnp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGVGbGFnID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuenVjaGVkaW5nZGFuQ3Jvc3NhZGRPclVwZGF0ZS5pbml0KHJvdy5pZCx0eXBlKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlSGFuZGxlcihpZCkgewogICAgICB2YXIgaWRzID0gaWQgPyBbTnVtYmVyKGlkKV0gOiB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucy5tYXAoaXRlbSA9PiBOdW1iZXIoaXRlbS5pZCkpOwogICAgICB0aGlzLiRjb25maXJtKGDnoa7lrprov5vooYxbJHtpZCA/ICLliKDpmaQiIDogIuaJuemHj+WIoOmZpCJ9XeaTjeS9nD9gLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICB1cmw6ICJxaWNoZXhpbnhpL2RlbGV0ZSIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6IGlkcwogICAgICAgIH0pLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsKICAgICAgICAgICAgdGhpcy5zZWFyY2goKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/modules/qichexinxi","sourcesContent":["<template>\n  <div class=\"main-content\">\n    <template v-if=\"showFlag\">\n      <div class=\"search-box-card\">\n        <el-form :inline=\"true\" :model=\"searchForm\" @submit.native.prevent=\"search()\">\n          <el-form-item label=\"车牌号\">\n            <el-input v-model=\"searchForm.chepaihao\" placeholder=\"请输入车牌号\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"车辆品牌\">\n            <el-input v-model=\"searchForm.cheliangpinpai\" placeholder=\"请输入品牌\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"汽车类别\">\n            <el-select v-model=\"searchForm.qicheleibie\" placeholder=\"请选择类别\" clearable size=\"medium\">\n              <el-option v-for=\"(item,index) in qicheleibieOptions\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"状态\">\n            <el-select v-model=\"searchForm.zhuangtai\" placeholder=\"请选择状态\" clearable size=\"medium\">\n              <el-option v-for=\"(item,index) in zhuangtaiOptions\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\" size=\"medium\">查询</el-button>\n            <el-button icon=\"el-icon-refresh\" @click=\"resetForm\" size=\"medium\">重置</el-button>\n\n            <el-button v-if=\"isAuth('qichexinxi','新增')\" type=\"success\" icon=\"el-icon-plus\" @click=\"addOrUpdateHandler()\" size=\"medium\">新增车辆</el-button>\n            <el-button v-if=\"isAuth('qichexinxi','删除')\" type=\"danger\" icon=\"el-icon-delete\" :disabled=\"dataListSelections.length <= 0\" @click=\"deleteHandler()\" size=\"medium\">批量删除</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <div class=\"table-box-card\">\n        <el-table :data=\"dataList\" border v-loading=\"dataListLoading\" @selection-change=\"selectionChangeHandler\" style=\"width: 100%;\">\n          <el-table-column type=\"selection\" header-align=\"center\" align=\"center\" width=\"50\"></el-table-column>\n          <el-table-column type=\"index\" header-align=\"center\" align=\"center\" label=\"序号\" width=\"60\"></el-table-column>\n\n          <el-table-column prop=\"chepaihao\" header-align=\"center\" align=\"center\" label=\"车牌号\" min-width=\"100\"></el-table-column>\n          <el-table-column prop=\"cheliangxinghao\" header-align=\"center\" align=\"center\" label=\"车辆型号\" show-overflow-tooltip></el-table-column>\n          <el-table-column prop=\"cheliangpinpai\" header-align=\"center\" align=\"center\" label=\"品牌\"></el-table-column>\n          <el-table-column prop=\"qicheleibie\" header-align=\"center\" align=\"center\" label=\"类别\">\n            <template slot-scope=\"scope\">\n              <el-tag size=\"small\">{{ scope.row.qicheleibie }}</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"cheliangzhaopian\" header-align=\"center\" align=\"center\" width=\"120\" label=\"车辆照片\">\n            <template slot-scope=\"scope\">\n              <div v-if=\"scope.row.cheliangzhaopian\">\n                <el-image\n                    class=\"table-img\"\n                    :src=\"scope.row.cheliangzhaopian.split(',')[0].indexOf('http') == 0 ? scope.row.cheliangzhaopian.split(',')[0] : $base.url + scope.row.cheliangzhaopian.split(',')[0]\"\n                    :preview-src-list=\"[scope.row.cheliangzhaopian.split(',')[0].indexOf('http') == 0 ? scope.row.cheliangzhaopian.split(',')[0] : $base.url + scope.row.cheliangzhaopian.split(',')[0]]\">\n                </el-image>\n              </div>\n              <div v-else>无图</div>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"jiage\" header-align=\"center\" align=\"center\" label=\"日租金\">\n            <template slot-scope=\"scope\">\n              <span style=\"color: #F56C6C; font-weight: bold;\">￥{{ scope.row.jiage }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"zhuangtai\" header-align=\"center\" align=\"center\" label=\"状态\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"scope.row.zhuangtai === '已出租' ? 'warning' : 'success'\" effect=\"dark\" size=\"small\">{{ scope.row.zhuangtai }}</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column header-align=\"center\" align=\"center\" width=\"220\" label=\"操作\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"isAuth('qichexinxi','查看')\" type=\"text\" icon=\"el-icon-view\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id,'info')\">详情</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','租赁汽车')\" type=\"text\" icon=\"el-icon-shopping-cart-full\" size=\"small\" @click=\"zuchedingdanCrossAddOrUpdateHandler(scope.row,'cross','','zhuangtai','该车辆已出租','已出租,未出租'.split(',')[0])\">租赁</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','修改')\" type=\"text\" icon=\"el-icon-edit\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id)\">修改</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','删除')\" type=\"text\" icon=\"el-icon-delete\" class=\"text-danger\" size=\"small\" @click=\"deleteHandler(scope.row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-pagination\n            @size-change=\"sizeChangeHandle\"\n            @current-change=\"currentChangeHandle\"\n            :current-page=\"pageIndex\"\n            :page-sizes=\"[10, 20, 50, 100]\"\n            :page-size=\"pageSize\"\n            :total=\"totalPage\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            background\n            class=\"pagination-content\">\n        </el-pagination>\n      </div>\n    </template>\n\n    <add-or-update v-if=\"addOrUpdateFlag\" :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\n    <zuchedingdan-cross-add-or-update v-if=\"zuchedingdanCrossAddOrUpdateFlag\" :parent=\"this\" ref=\"zuchedingdanCrossaddOrUpdate\"></zuchedingdan-cross-add-or-update>\n  </div>\n</template>\n\n<script>\nimport AddOrUpdate from \"./add-or-update\";\nimport zuchedingdanCrossAddOrUpdate from \"../zuchedingdan/add-or-update\";\nexport default {\n  data() {\n    return {\n      qicheleibieOptions: [],\n      zhuangtaiOptions: [],\n      searchForm: {\n        chepaihao: \"\",\n        qicheleibie: \"\",\n        cheliangpinpai: \"\",\n        zhuangtai: \"\"\n      },\n      dataList: [],\n      pageIndex: 1,\n      pageSize: 10,\n      totalPage: 0,\n      dataListLoading: false,\n      dataListSelections: [],\n      showFlag: true,\n      addOrUpdateFlag:false,\n      zuchedingdanCrossAddOrUpdateFlag: false,\n    };\n  },\n  components: {\n    AddOrUpdate,\n    zuchedingdanCrossAddOrUpdate,\n  },\n  created() {\n    this.init();\n    this.getDataList();\n  },\n  methods: {\n    init () {\n      this.$http({\n        url: `option/qicheleibie/qicheleibie`,\n        method: \"get\"\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.qicheleibieOptions = data.data;\n        }\n      });\n      this.zhuangtaiOptions = \"已出租,未出租\".split(',')\n    },\n    // 重置按钮逻辑\n    resetForm() {\n      this.searchForm = {\n        chepaihao: \"\",\n        qicheleibie: \"\",\n        cheliangpinpai: \"\",\n        zhuangtai: \"\"\n      };\n      this.search();\n    },\n    search() {\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    getDataList() {\n      this.dataListLoading = true;\n      let params = {\n        page: this.pageIndex,\n        limit: this.pageSize,\n        sort: 'id',\n        order: 'desc',\n        ...this.searchForm\n      }\n      // 清理空值\n      for(let key in params){\n        if(params[key] === '' || params[key] === undefined){\n          delete params[key];\n        } else if(key !== 'page' && key !== 'limit' && key !== 'sort' && key !== 'order'){\n          params[key] = '%' + params[key] + '%' // 模糊查询处理\n          // 对于下拉框，通常是精确匹配\n          if(key === 'qicheleibie' || key === 'zhuangtai') params[key] = this.searchForm[key];\n        }\n      }\n\n      this.$http({\n        url: \"qichexinxi/page\",\n        method: \"get\",\n        params: params\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.dataList = data.data.list;\n          this.totalPage = data.data.total;\n        } else {\n          this.dataList = [];\n          this.totalPage = 0;\n        }\n        this.dataListLoading = false;\n      });\n    },\n    sizeChangeHandle(val) {\n      this.pageSize = val;\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    currentChangeHandle(val) {\n      this.pageIndex = val;\n      this.getDataList();\n    },\n    selectionChangeHandler(val) {\n      this.dataListSelections = val;\n    },\n    addOrUpdateHandler(id,type) {\n      this.showFlag = false;\n      this.addOrUpdateFlag = true;\n      this.crossAddOrUpdateFlag = false;\n      if(type!='info'){\n        type = 'else';\n      }\n      this.$nextTick(() => {\n        this.$refs.addOrUpdate.init(id,type);\n      });\n    },\n    zuchedingdanCrossAddOrUpdateHandler(row,type,crossOptAudit,statusColumnName,tips,statusColumnValue){\n      this.showFlag = false;\n      this.addOrUpdateFlag = false;\n      this.zuchedingdanCrossAddOrUpdateFlag = true;\n      this.$storage.set('crossObj',row);\n      this.$storage.set('crossTable','qichexinxi');\n      this.$storage.set('statusColumnName',statusColumnName);\n      this.$storage.set('statusColumnValue',statusColumnValue);\n      this.$storage.set('tips',tips);\n      if(statusColumnName!=''&&!statusColumnName.startsWith(\"[\")) {\n        var obj = this.$storage.getObj('crossObj');\n        for (var o in obj){\n          if(o==statusColumnName && obj[o]==statusColumnValue){\n            this.$message({\n              message: tips,\n              type: \"success\",\n              duration: 1500,\n              onClose: () => {\n                this.getDataList();\n              }\n            });\n            this.showFlag = true;\n            this.zuchedingdanCrossAddOrUpdateFlag = false;\n            return;\n          }\n        }\n      }\n      this.$nextTick(() => {\n        this.$refs.zuchedingdanCrossaddOrUpdate.init(row.id,type);\n      });\n    },\n    deleteHandler(id) {\n      var ids = id ? [Number(id)] : this.dataListSelections.map(item => Number(item.id));\n      this.$confirm(`确定进行[${id ? \"删除\" : \"批量删除\"}]操作?`, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$http({\n          url: \"qichexinxi/delete\",\n          method: \"post\",\n          data: ids\n        }).then(({ data }) => {\n          if (data && data.code === 0) {\n            this.$message.success(\"操作成功\");\n            this.search();\n          } else {\n            this.$message.error(data.msg);\n          }\n        });\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.text-danger {\n  color: #F56C6C;\n  &:hover {\n    color: #ff4949;\n  }\n}\n</style>\n"]}]}