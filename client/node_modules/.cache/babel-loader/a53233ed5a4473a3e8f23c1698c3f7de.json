{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\quxiaodingdan\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\quxiaodingdan\\list.vue","mtime":1765009911309},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\babel.config.js","mtime":1678271616000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCBBZGRPclVwZGF0ZSBmcm9tICIuL2FkZC1vci11cGRhdGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBjaGVwYWloYW86ICIiLAogICAgICAgIGNoZWxpYW5ncGlucGFpOiAiIiwKICAgICAgICBxaWNoZWxlaWJpZTogIiIsCiAgICAgICAgeGluZ21pbmc6ICIiLAogICAgICAgIHNmc2g6ICIiCiAgICAgIH0sCiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgcGFnZUluZGV4OiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgZGF0YUxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YUxpc3RTZWxlY3Rpb25zOiBbXSwKICAgICAgc2hvd0ZsYWc6IHRydWUsCiAgICAgIHNmc2hWaXNpYWJsZTogZmFsc2UsCiAgICAgIHNoRm9ybToge30sCiAgICAgIGFkZE9yVXBkYXRlRmxhZzogZmFsc2UsCiAgICAgIHNmc2hPcHRpb25zOiBbJ+aYrycsICflkKYnLCAn5b6F5a6h5qC4J10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBZGRPclVwZGF0ZTogQWRkT3JVcGRhdGUKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5zZWFyY2hGb3JtID0gewogICAgICAgIGNoZXBhaWhhbzogIiIsCiAgICAgICAgY2hlbGlhbmdwaW5wYWk6ICIiLAogICAgICAgIHFpY2hlbGVpYmllOiAiIiwKICAgICAgICB4aW5nbWluZzogIiIsCiAgICAgICAgc2ZzaDogIiIKICAgICAgfTsKICAgICAgdGhpcy5zZWFyY2goKTsKICAgIH0sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgZ2V0RGF0YUxpc3Q6IGZ1bmN0aW9uIGdldERhdGFMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcGFnZTogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgc29ydDogJ2lkJywKICAgICAgICBvcmRlcjogJ2Rlc2MnCiAgICAgIH07CiAgICAgIC8vIOS/ruWkje+8muWPquacieW9k+acieWAvOaXtuaJjea3u+WKoOWPguaVsAogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLmNoZXBhaWhhbykgcGFyYW1zWydjaGVwYWloYW8nXSA9ICclJyArIHRoaXMuc2VhcmNoRm9ybS5jaGVwYWloYW8gKyAnJSc7CiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0uY2hlbGlhbmdwaW5wYWkpIHBhcmFtc1snY2hlbGlhbmdwaW5wYWknXSA9ICclJyArIHRoaXMuc2VhcmNoRm9ybS5jaGVsaWFuZ3BpbnBhaSArICclJzsKICAgICAgaWYgKHRoaXMuc2VhcmNoRm9ybS5xaWNoZWxlaWJpZSkgcGFyYW1zWydxaWNoZWxlaWJpZSddID0gJyUnICsgdGhpcy5zZWFyY2hGb3JtLnFpY2hlbGVpYmllICsgJyUnOwogICAgICBpZiAodGhpcy5zZWFyY2hGb3JtLnhpbmdtaW5nKSBwYXJhbXNbJ3hpbmdtaW5nJ10gPSAnJScgKyB0aGlzLnNlYXJjaEZvcm0ueGluZ21pbmcgKyAnJSc7CiAgICAgIGlmICh0aGlzLnNlYXJjaEZvcm0uc2ZzaCkgcGFyYW1zWydzZnNoJ10gPSB0aGlzLnNlYXJjaEZvcm0uc2ZzaDsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAicXV4aWFvZGluZ2Rhbi9wYWdlIiwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgICBfdGhpcy50b3RhbFBhZ2UgPSBkYXRhLmRhdGEudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmRhdGFMaXN0ID0gW107CiAgICAgICAgICBfdGhpcy50b3RhbFBhZ2UgPSAwOwogICAgICAgIH0KICAgICAgICBfdGhpcy5kYXRhTGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc2l6ZUNoYW5nZUhhbmRsZTogZnVuY3Rpb24gc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5wYWdlSW5kZXggPSAxOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgY3VycmVudENoYW5nZUhhbmRsZTogZnVuY3Rpb24gY3VycmVudENoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlSW5kZXggPSB2YWw7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VIYW5kbGVyKHZhbCkgewogICAgICB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucyA9IHZhbDsKICAgIH0sCiAgICBhZGRPclVwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uIGFkZE9yVXBkYXRlSGFuZGxlcihpZCwgdHlwZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5zaG93RmxhZyA9IGZhbHNlOwogICAgICB0aGlzLmFkZE9yVXBkYXRlRmxhZyA9IHRydWU7CiAgICAgIGlmICh0eXBlICE9ICdpbmZvJykgewogICAgICAgIHR5cGUgPSAnZWxzZSc7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5hZGRPclVwZGF0ZS5pbml0KGlkLCB0eXBlKTsKICAgICAgfSk7CiAgICB9LAogICAgcGF5SGFuZGxlcjogZnVuY3Rpb24gcGF5SGFuZGxlcihyb3cpIHsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ3BheXRhYmxlJywgJ3F1eGlhb2RpbmdkYW4nKTsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ3BheU9iamVjdCcsIHJvdyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdwYXknKTsKICAgIH0sCiAgICBzaERpYWxvZzogZnVuY3Rpb24gc2hEaWFsb2cocm93KSB7CiAgICAgIHRoaXMuc2ZzaFZpc2lhYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zaEZvcm0gPSB7CiAgICAgICAgc2ZzaDogcm93LnNmc2ggPT09ICflvoXlrqHmoLgnID8gJycgOiByb3cuc2ZzaCwKICAgICAgICBzaGhmOiByb3cuc2hoZiwKICAgICAgICBpZDogcm93LmlkCiAgICAgIH07CiAgICB9LAogICAgc2hIYW5kbGVyOiBmdW5jdGlvbiBzaEhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAoIXRoaXMuc2hGb3JtLnNmc2gpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fpgInmi6nlrqHmoLjnu5PmnpwiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgiXHU3ODZFXHU1QjlBXHU2M0QwXHU0RUE0XHU1QkExXHU2ODM4PyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGh0dHAoewogICAgICAgICAgdXJsOiAicXV4aWFvZGluZ2Rhbi91cGRhdGUiLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICBkYXRhOiBfdGhpczMuc2hGb3JtCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi5a6h5qC45oiQ5YqfIik7CiAgICAgICAgICAgIF90aGlzMy5zZnNoVmlzaWFibGUgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXMzLmdldERhdGFMaXN0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVIYW5kbGVyOiBmdW5jdGlvbiBkZWxldGVIYW5kbGVyKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgaWRzID0gaWQgPyBbTnVtYmVyKGlkKV0gOiB0aGlzLmRhdGFMaXN0U2VsZWN0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gTnVtYmVyKGl0ZW0uaWQpOwogICAgICB9KTsKICAgICAgdGhpcy4kY29uZmlybSgiXHU3ODZFXHU1QjlBXHU4RkRCXHU4ODRDWyIuY29uY2F0KGlkID8gIuWIoOmZpCIgOiAi5om56YeP5Yig6ZmkIiwgIl1cdTY0Q0RcdTRGNUM/IiksICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJGh0dHAoewogICAgICAgICAgdXJsOiAicXV4aWFvZGluZ2Rhbi9kZWxldGUiLAogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICBkYXRhOiBpZHMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMy5kYXRhOwogICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsKICAgICAgICAgICAgX3RoaXM0LnNlYXJjaCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["AddOrUpdate","data","searchForm","chepaihao","cheliangpinpai","qicheleibie","xingming","sfsh","dataList","pageIndex","pageSize","totalPage","dataListLoading","dataListSelections","showFlag","sfshVisiable","shForm","addOrUpdateFlag","sfshOptions","components","created","getDataList","methods","resetForm","search","_this","params","page","limit","sort","order","$http","url","method","then","_ref","code","list","total","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","addOrUpdateHandler","id","type","_this2","$nextTick","$refs","addOrUpdate","init","payHandler","row","$storage","set","$router","push","shDialog","shhf","shHandler","_this3","$message","error","$confirm","confirmButtonText","cancelButtonText","_ref2","success","msg","deleteHandler","_this4","ids","Number","map","item","concat","_ref3"],"sources":["src/views/modules/quxiaodingdan/list.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <template v-if=\"showFlag\">\n      <div class=\"search-box-card\">\n        <el-form :inline=\"true\" :model=\"searchForm\" @submit.native.prevent=\"search()\" class=\"search-form-content\">\n          <el-form-item label=\"车牌号\">\n            <el-input v-model=\"searchForm.chepaihao\" placeholder=\"车牌号\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"车辆品牌\">\n            <el-input v-model=\"searchForm.cheliangpinpai\" placeholder=\"品牌\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"汽车类别\">\n            <el-input v-model=\"searchForm.qicheleibie\" placeholder=\"类别\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"姓名\">\n            <el-input v-model=\"searchForm.xingming\" placeholder=\"客户姓名\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"审核状态\">\n            <el-select v-model=\"searchForm.sfsh\" placeholder=\"状态\" clearable size=\"medium\">\n              <el-option label=\"通过\" value=\"是\"></el-option>\n              <el-option label=\"不通过\" value=\"否\"></el-option>\n              <el-option label=\"待审核\" value=\"待审核\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-form>\n\n        <el-row class=\"btn-group\">\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\" size=\"medium\">查询</el-button>\n          <el-button icon=\"el-icon-refresh\" @click=\"resetForm\" size=\"medium\">重置</el-button>\n          <el-button type=\"success\" icon=\"el-icon-plus\" @click=\"addOrUpdateHandler()\" size=\"medium\">新增取消</el-button>\n          <el-button type=\"danger\" icon=\"el-icon-delete\" :disabled=\"dataListSelections.length <= 0\" @click=\"deleteHandler()\" size=\"medium\">批量删除</el-button>\n        </el-row>\n      </div>\n\n      <div class=\"table-box-card\">\n        <el-table :data=\"dataList\" border v-loading=\"dataListLoading\" @selection-change=\"selectionChangeHandler\" style=\"width: 100%;\">\n          <el-table-column type=\"selection\" header-align=\"center\" align=\"center\" width=\"50\"></el-table-column>\n          <el-table-column prop=\"dingdanbianhao\" header-align=\"center\" align=\"center\" label=\"订单编号\" min-width=\"160\" show-overflow-tooltip></el-table-column>\n          <el-table-column prop=\"chepaihao\" header-align=\"center\" align=\"center\" label=\"车牌号\"></el-table-column>\n          <el-table-column prop=\"cheliangpinpai\" header-align=\"center\" align=\"center\" label=\"品牌\"></el-table-column>\n          <el-table-column prop=\"zongjia\" header-align=\"center\" align=\"center\" label=\"退款金额\">\n            <template slot-scope=\"scope\">\n              <span style=\"color: #F56C6C; font-weight: bold;\">￥{{ scope.row.zongjia }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"quxiaoriqi\" header-align=\"center\" align=\"center\" label=\"取消日期\" width=\"100\"></el-table-column>\n          <el-table-column prop=\"xingming\" header-align=\"center\" align=\"center\" label=\"姓名\"></el-table-column>\n          <el-table-column prop=\"shouji\" header-align=\"center\" align=\"center\" label=\"手机\" width=\"120\"></el-table-column>\n\n          <el-table-column prop=\"ispay\" header-align=\"center\" align=\"center\" label=\"支付状态\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-tag v-if=\"scope.row.ispay=='已支付'\" type=\"success\" size=\"small\">已退款</el-tag>\n              <el-button v-else type=\"primary\" size=\"mini\" plain @click=\"payHandler(scope.row)\">去退款</el-button>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"sfsh\" header-align=\"center\" align=\"center\" label=\"审核状态\">\n            <template slot-scope=\"scope\">\n              <el-tag v-if=\"scope.row.sfsh=='是'\" type=\"success\" effect=\"dark\" size=\"small\">通过</el-tag>\n              <el-tag v-else-if=\"scope.row.sfsh=='否'\" type=\"danger\" effect=\"dark\" size=\"small\">拒绝</el-tag>\n              <el-tag v-else type=\"warning\" effect=\"dark\" size=\"small\">待审核</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column header-align=\"center\" align=\"center\" width=\"220\" label=\"操作\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"isAuth('quxiaodingdan','审核') && scope.row.sfsh=='待审核'\" type=\"warning\" size=\"mini\" @click=\"shDialog(scope.row)\">审核</el-button>\n              <el-button v-if=\"isAuth('quxiaodingdan','查看')\" type=\"text\" icon=\"el-icon-view\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id,'info')\">详情</el-button>\n              <el-button v-if=\"isAuth('quxiaodingdan','修改')\" type=\"text\" icon=\"el-icon-edit\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id)\">修改</el-button>\n              <el-button v-if=\"isAuth('quxiaodingdan','删除')\" type=\"text\" icon=\"el-icon-delete\" class=\"text-danger\" size=\"small\" @click=\"deleteHandler(scope.row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-pagination\n            @size-change=\"sizeChangeHandle\"\n            @current-change=\"currentChangeHandle\"\n            :current-page=\"pageIndex\"\n            :page-sizes=\"[10, 20, 50]\"\n            :page-size=\"pageSize\"\n            :total=\"totalPage\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            background\n            class=\"pagination-content\">\n        </el-pagination>\n      </div>\n    </template>\n\n    <add-or-update v-if=\"addOrUpdateFlag\" :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\n\n    <el-dialog title=\"取消申请审核\" :visible.sync=\"sfshVisiable\" width=\"40%\" center>\n      <el-form ref=\"form\" :model=\"shForm\" label-width=\"80px\">\n        <el-form-item label=\"审核结果\">\n          <el-radio-group v-model=\"shForm.sfsh\">\n            <el-radio label=\"是\" border>通过</el-radio>\n            <el-radio label=\"否\" border>不通过</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"审核意见\">\n          <el-input type=\"textarea\" :rows=\"4\" v-model=\"shForm.shhf\" placeholder=\"请输入审核回复...\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"sfshVisiable = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"shHandler\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport AddOrUpdate from \"./add-or-update\";\nexport default {\n  data() {\n    return {\n      searchForm: {\n        chepaihao: \"\",\n        cheliangpinpai: \"\",\n        qicheleibie: \"\",\n        xingming: \"\",\n        sfsh: \"\"\n      },\n      dataList: [],\n      pageIndex: 1,\n      pageSize: 10,\n      totalPage: 0,\n      dataListLoading: false,\n      dataListSelections: [],\n      showFlag: true,\n      sfshVisiable: false,\n      shForm: {},\n      addOrUpdateFlag:false,\n      sfshOptions: ['是','否','待审核']\n    };\n  },\n  components: {\n    AddOrUpdate,\n  },\n  created() {\n    this.getDataList();\n  },\n  methods: {\n    resetForm() {\n      this.searchForm = {\n        chepaihao: \"\",\n        cheliangpinpai: \"\",\n        qicheleibie: \"\",\n        xingming: \"\",\n        sfsh: \"\"\n      };\n      this.search();\n    },\n    search() {\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    getDataList() {\n      this.dataListLoading = true;\n      let params = {\n        page: this.pageIndex,\n        limit: this.pageSize,\n        sort: 'id',\n        order: 'desc',\n      }\n      // 修复：只有当有值时才添加参数\n      if(this.searchForm.chepaihao) params['chepaihao'] = '%' + this.searchForm.chepaihao + '%'\n      if(this.searchForm.cheliangpinpai) params['cheliangpinpai'] = '%' + this.searchForm.cheliangpinpai + '%'\n      if(this.searchForm.qicheleibie) params['qicheleibie'] = '%' + this.searchForm.qicheleibie + '%'\n      if(this.searchForm.xingming) params['xingming'] = '%' + this.searchForm.xingming + '%'\n      if(this.searchForm.sfsh) params['sfsh'] = this.searchForm.sfsh\n\n      this.$http({\n        url: \"quxiaodingdan/page\",\n        method: \"get\",\n        params: params\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.dataList = data.data.list;\n          this.totalPage = data.data.total;\n        } else {\n          this.dataList = [];\n          this.totalPage = 0;\n        }\n        this.dataListLoading = false;\n      });\n    },\n    sizeChangeHandle(val) {\n      this.pageSize = val;\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    currentChangeHandle(val) {\n      this.pageIndex = val;\n      this.getDataList();\n    },\n    selectionChangeHandler(val) {\n      this.dataListSelections = val;\n    },\n    addOrUpdateHandler(id,type) {\n      this.showFlag = false;\n      this.addOrUpdateFlag = true;\n      if(type!='info'){\n        type = 'else';\n      }\n      this.$nextTick(() => {\n        this.$refs.addOrUpdate.init(id,type);\n      });\n    },\n    payHandler(row){\n      this.$storage.set('paytable','quxiaodingdan');\n      this.$storage.set('payObject',row);\n      this.$router.push('pay');\n    },\n    shDialog(row){\n      this.sfshVisiable = true;\n      this.shForm = {\n        sfsh: row.sfsh === '待审核' ? '' : row.sfsh,\n        shhf: row.shhf,\n        id: row.id\n      }\n    },\n    shHandler(){\n      if(!this.shForm.sfsh){\n        this.$message.error(\"请选择审核结果\");\n        return;\n      }\n      this.$confirm(`确定提交审核?`, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$http({\n          url: \"quxiaodingdan/update\",\n          method: \"post\",\n          data: this.shForm\n        }).then(({ data }) => {\n          if (data && data.code === 0) {\n            this.$message.success(\"审核成功\");\n            this.sfshVisiable = false;\n            this.getDataList();\n          } else {\n            this.$message.error(data.msg);\n          }\n        });\n      });\n    },\n    deleteHandler(id) {\n      var ids = id ? [Number(id)] : this.dataListSelections.map(item => Number(item.id));\n      this.$confirm(`确定进行[${id ? \"删除\" : \"批量删除\"}]操作?`, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$http({\n          url: \"quxiaodingdan/delete\",\n          method: \"post\",\n          data: ids\n        }).then(({ data }) => {\n          if (data && data.code === 0) {\n            this.$message.success(\"操作成功\");\n            this.search();\n          } else {\n            this.$message.error(data.msg);\n          }\n        });\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/* 增加表单和下方按钮区域的间距 */\n.search-form-content {\n  margin-bottom: 20px;\n}\n\n.btn-group {\n  border-top: 1px solid #f0f0f0;\n  padding-top: 20px;\n}\n\n.text-danger {\n  color: #F56C6C;\n  &:hover {\n    color: #ff4949;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}