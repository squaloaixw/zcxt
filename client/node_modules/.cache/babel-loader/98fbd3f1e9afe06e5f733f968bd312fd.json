{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\qichexinxi\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\client\\src\\views\\modules\\qichexinxi\\list.vue","mtime":1764768812590},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\babel.config.js","mtime":1678271616000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovSmF2YS9jb2RlL3pjeHQveHQvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0IEFkZE9yVXBkYXRlIGZyb20gIi4vYWRkLW9yLXVwZGF0ZSI7CmltcG9ydCB6dWNoZWRpbmdkYW5Dcm9zc0FkZE9yVXBkYXRlIGZyb20gIi4uL3p1Y2hlZGluZ2Rhbi9hZGQtb3ItdXBkYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxaWNoZWxlaWJpZU9wdGlvbnM6IFtdLAogICAgICB6aHVhbmd0YWlPcHRpb25zOiBbXSwKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIGNoZXBhaWhhbzogIiIsCiAgICAgICAgcWljaGVsZWliaWU6ICIiLAogICAgICAgIGNoZWxpYW5ncGlucGFpOiAiIiwKICAgICAgICB6aHVhbmd0YWk6ICIiCiAgICAgIH0sCiAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgcGFnZUluZGV4OiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgZGF0YUxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YUxpc3RTZWxlY3Rpb25zOiBbXSwKICAgICAgc2hvd0ZsYWc6IHRydWUsCiAgICAgIGFkZE9yVXBkYXRlRmxhZzogZmFsc2UsCiAgICAgIHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGVGbGFnOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZE9yVXBkYXRlOiBBZGRPclVwZGF0ZSwKICAgIHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGU6IHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGUKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogIm9wdGlvbi9xaWNoZWxlaWJpZS9xaWNoZWxlaWJpZSIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpcy5xaWNoZWxlaWJpZU9wdGlvbnMgPSBkYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy56aHVhbmd0YWlPcHRpb25zID0gIuW3suWHuuennyzmnKrlh7rnp58iLnNwbGl0KCcsJyk7CiAgICB9LAogICAgLy8g6YeN572u5oyJ6ZKu6YC76L6RCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5zZWFyY2hGb3JtID0gewogICAgICAgIGNoZXBhaWhhbzogIiIsCiAgICAgICAgcWljaGVsZWliaWU6ICIiLAogICAgICAgIGNoZWxpYW5ncGlucGFpOiAiIiwKICAgICAgICB6aHVhbmd0YWk6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGdldERhdGFMaXN0OiBmdW5jdGlvbiBnZXREYXRhTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhZ2U6IHRoaXMucGFnZUluZGV4LAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIHNvcnQ6ICdpZCcsCiAgICAgICAgb3JkZXI6ICdkZXNjJwogICAgICB9LCB0aGlzLnNlYXJjaEZvcm0pOwogICAgICAvLyDmuIXnkIbnqbrlgLwKICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykgewogICAgICAgIGlmIChwYXJhbXNba2V5XSA9PT0gJycgfHwgcGFyYW1zW2tleV0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZGVsZXRlIHBhcmFtc1trZXldOwogICAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSAncGFnZScgJiYga2V5ICE9PSAnbGltaXQnICYmIGtleSAhPT0gJ3NvcnQnICYmIGtleSAhPT0gJ29yZGVyJykgewogICAgICAgICAgcGFyYW1zW2tleV0gPSAnJScgKyBwYXJhbXNba2V5XSArICclJzsgLy8g5qih57OK5p+l6K+i5aSE55CGCiAgICAgICAgICAvLyDlr7nkuo7kuIvmi4nmoYbvvIzpgJrluLjmmK/nsr7noa7ljLnphY0KICAgICAgICAgIGlmIChrZXkgPT09ICdxaWNoZWxlaWJpZScgfHwga2V5ID09PSAnemh1YW5ndGFpJykgcGFyYW1zW2tleV0gPSB0aGlzLnNlYXJjaEZvcm1ba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAicWljaGV4aW54aS9wYWdlIiwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMyLmRhdGFMaXN0ID0gZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgICBfdGhpczIudG90YWxQYWdlID0gZGF0YS5kYXRhLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgIF90aGlzMi50b3RhbFBhZ2UgPSAwOwogICAgICAgIH0KICAgICAgICBfdGhpczIuZGF0YUxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHNpemVDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIHNpemVDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gMTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gdmFsOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gc2VsZWN0aW9uQ2hhbmdlSGFuZGxlcih2YWwpIHsKICAgICAgdGhpcy5kYXRhTGlzdFNlbGVjdGlvbnMgPSB2YWw7CiAgICB9LAogICAgYWRkT3JVcGRhdGVIYW5kbGVyOiBmdW5jdGlvbiBhZGRPclVwZGF0ZUhhbmRsZXIoaWQsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuc2hvd0ZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy5hZGRPclVwZGF0ZUZsYWcgPSB0cnVlOwogICAgICB0aGlzLmNyb3NzQWRkT3JVcGRhdGVGbGFnID0gZmFsc2U7CiAgICAgIGlmICh0eXBlICE9ICdpbmZvJykgewogICAgICAgIHR5cGUgPSAnZWxzZSc7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kcmVmcy5hZGRPclVwZGF0ZS5pbml0KGlkLCB0eXBlKTsKICAgICAgfSk7CiAgICB9LAogICAgenVjaGVkaW5nZGFuQ3Jvc3NBZGRPclVwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uIHp1Y2hlZGluZ2RhbkNyb3NzQWRkT3JVcGRhdGVIYW5kbGVyKHJvdywgdHlwZSwgY3Jvc3NPcHRBdWRpdCwgc3RhdHVzQ29sdW1uTmFtZSwgdGlwcywgc3RhdHVzQ29sdW1uVmFsdWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuc2hvd0ZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy5hZGRPclVwZGF0ZUZsYWcgPSBmYWxzZTsKICAgICAgdGhpcy56dWNoZWRpbmdkYW5Dcm9zc0FkZE9yVXBkYXRlRmxhZyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdjcm9zc09iaicsIHJvdyk7CiAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCdjcm9zc1RhYmxlJywgJ3FpY2hleGlueGknKTsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ3N0YXR1c0NvbHVtbk5hbWUnLCBzdGF0dXNDb2x1bW5OYW1lKTsKICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoJ3N0YXR1c0NvbHVtblZhbHVlJywgc3RhdHVzQ29sdW1uVmFsdWUpOwogICAgICB0aGlzLiRzdG9yYWdlLnNldCgndGlwcycsIHRpcHMpOwogICAgICBpZiAoc3RhdHVzQ29sdW1uTmFtZSAhPSAnJyAmJiAhc3RhdHVzQ29sdW1uTmFtZS5zdGFydHNXaXRoKCJbIikpIHsKICAgICAgICB2YXIgb2JqID0gdGhpcy4kc3RvcmFnZS5nZXRPYmooJ2Nyb3NzT2JqJyk7CiAgICAgICAgZm9yICh2YXIgbyBpbiBvYmopIHsKICAgICAgICAgIGlmIChvID09IHN0YXR1c0NvbHVtbk5hbWUgJiYgb2JqW29dID09IHN0YXR1c0NvbHVtblZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHRpcHMsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgICAgICBfdGhpczQuZ2V0RGF0YUxpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnNob3dGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy56dWNoZWRpbmdkYW5Dcm9zc0FkZE9yVXBkYXRlRmxhZyA9IGZhbHNlOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJHJlZnMuenVjaGVkaW5nZGFuQ3Jvc3NhZGRPclVwZGF0ZS5pbml0KHJvdy5pZCwgdHlwZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUhhbmRsZXI6IGZ1bmN0aW9uIGRlbGV0ZUhhbmRsZXIoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSBpZCA/IFtOdW1iZXIoaWQpXSA6IHRoaXMuZGF0YUxpc3RTZWxlY3Rpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBOdW1iZXIoaXRlbS5pZCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRjb25maXJtKCJcdTc4NkVcdTVCOUFcdThGREJcdTg4NENbIi5jb25jYXQoaWQgPyAi5Yig6ZmkIiA6ICLmibnph4/liKDpmaQiLCAiXVx1NjRDRFx1NEY1Qz8iKSwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kaHR0cCh7CiAgICAgICAgICB1cmw6ICJxaWNoZXhpbnhpL2RlbGV0ZSIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6IGlkcwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOwogICAgICAgICAgICBfdGhpczUuc2VhcmNoKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["AddOrUpdate","zuchedingdanCrossAddOrUpdate","data","qicheleibieOptions","zhuangtaiOptions","searchForm","chepaihao","qicheleibie","cheliangpinpai","zhuangtai","dataList","pageIndex","pageSize","totalPage","dataListLoading","dataListSelections","showFlag","addOrUpdateFlag","zuchedingdanCrossAddOrUpdateFlag","components","created","init","getDataList","methods","_this","$http","url","method","then","_ref","code","split","resetForm","search","_this2","params","_objectSpread","page","limit","sort","order","key","undefined","_ref2","list","total","sizeChangeHandle","val","currentChangeHandle","selectionChangeHandler","addOrUpdateHandler","id","type","_this3","crossAddOrUpdateFlag","$nextTick","$refs","addOrUpdate","zuchedingdanCrossAddOrUpdateHandler","row","crossOptAudit","statusColumnName","tips","statusColumnValue","_this4","$storage","set","startsWith","obj","getObj","o","$message","message","duration","onClose","zuchedingdanCrossaddOrUpdate","deleteHandler","_this5","ids","Number","map","item","$confirm","concat","confirmButtonText","cancelButtonText","_ref3","success","error","msg"],"sources":["src/views/modules/qichexinxi/list.vue"],"sourcesContent":["<template>\n  <div class=\"main-content\">\n    <template v-if=\"showFlag\">\n      <div class=\"search-box-card\">\n        <el-form :inline=\"true\" :model=\"searchForm\" @submit.native.prevent=\"search()\">\n          <el-form-item label=\"车牌号\">\n            <el-input v-model=\"searchForm.chepaihao\" placeholder=\"请输入车牌号\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"车辆品牌\">\n            <el-input v-model=\"searchForm.cheliangpinpai\" placeholder=\"请输入品牌\" clearable size=\"medium\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"汽车类别\">\n            <el-select v-model=\"searchForm.qicheleibie\" placeholder=\"请选择类别\" clearable size=\"medium\">\n              <el-option v-for=\"(item,index) in qicheleibieOptions\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"状态\">\n            <el-select v-model=\"searchForm.zhuangtai\" placeholder=\"请选择状态\" clearable size=\"medium\">\n              <el-option v-for=\"(item,index) in zhuangtaiOptions\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\" size=\"medium\">查询</el-button>\n            <el-button icon=\"el-icon-refresh\" @click=\"resetForm\" size=\"medium\">重置</el-button>\n\n            <el-button v-if=\"isAuth('qichexinxi','新增')\" type=\"success\" icon=\"el-icon-plus\" @click=\"addOrUpdateHandler()\" size=\"medium\">新增车辆</el-button>\n            <el-button v-if=\"isAuth('qichexinxi','删除')\" type=\"danger\" icon=\"el-icon-delete\" :disabled=\"dataListSelections.length <= 0\" @click=\"deleteHandler()\" size=\"medium\">批量删除</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n\n      <div class=\"table-box-card\">\n        <el-table :data=\"dataList\" border v-loading=\"dataListLoading\" @selection-change=\"selectionChangeHandler\" style=\"width: 100%;\">\n          <el-table-column type=\"selection\" header-align=\"center\" align=\"center\" width=\"50\"></el-table-column>\n          <el-table-column type=\"index\" header-align=\"center\" align=\"center\" label=\"序号\" width=\"60\"></el-table-column>\n\n          <el-table-column prop=\"chepaihao\" header-align=\"center\" align=\"center\" label=\"车牌号\" min-width=\"100\"></el-table-column>\n          <el-table-column prop=\"cheliangxinghao\" header-align=\"center\" align=\"center\" label=\"车辆型号\" show-overflow-tooltip></el-table-column>\n          <el-table-column prop=\"cheliangpinpai\" header-align=\"center\" align=\"center\" label=\"品牌\"></el-table-column>\n          <el-table-column prop=\"qicheleibie\" header-align=\"center\" align=\"center\" label=\"类别\">\n            <template slot-scope=\"scope\">\n              <el-tag size=\"small\">{{ scope.row.qicheleibie }}</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"cheliangzhaopian\" header-align=\"center\" align=\"center\" width=\"120\" label=\"车辆照片\">\n            <template slot-scope=\"scope\">\n              <div v-if=\"scope.row.cheliangzhaopian\">\n                <el-image\n                    class=\"table-img\"\n                    :src=\"scope.row.cheliangzhaopian.split(',')[0].indexOf('http') == 0 ? scope.row.cheliangzhaopian.split(',')[0] : $base.url + scope.row.cheliangzhaopian.split(',')[0]\"\n                    :preview-src-list=\"[scope.row.cheliangzhaopian.split(',')[0].indexOf('http') == 0 ? scope.row.cheliangzhaopian.split(',')[0] : $base.url + scope.row.cheliangzhaopian.split(',')[0]]\">\n                </el-image>\n              </div>\n              <div v-else>无图</div>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"jiage\" header-align=\"center\" align=\"center\" label=\"日租金\">\n            <template slot-scope=\"scope\">\n              <span style=\"color: #F56C6C; font-weight: bold;\">￥{{ scope.row.jiage }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"zhuangtai\" header-align=\"center\" align=\"center\" label=\"状态\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"scope.row.zhuangtai === '已出租' ? 'warning' : 'success'\" effect=\"dark\" size=\"small\">{{ scope.row.zhuangtai }}</el-tag>\n            </template>\n          </el-table-column>\n\n          <el-table-column header-align=\"center\" align=\"center\" width=\"220\" label=\"操作\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <el-button v-if=\"isAuth('qichexinxi','查看')\" type=\"text\" icon=\"el-icon-view\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id,'info')\">详情</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','租赁汽车')\" type=\"text\" icon=\"el-icon-shopping-cart-full\" size=\"small\" @click=\"zuchedingdanCrossAddOrUpdateHandler(scope.row,'cross','','zhuangtai','该车辆已出租','已出租,未出租'.split(',')[0])\">租赁</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','修改')\" type=\"text\" icon=\"el-icon-edit\" size=\"small\" @click=\"addOrUpdateHandler(scope.row.id)\">修改</el-button>\n              <el-button v-if=\"isAuth('qichexinxi','删除')\" type=\"text\" icon=\"el-icon-delete\" class=\"text-danger\" size=\"small\" @click=\"deleteHandler(scope.row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-pagination\n            @size-change=\"sizeChangeHandle\"\n            @current-change=\"currentChangeHandle\"\n            :current-page=\"pageIndex\"\n            :page-sizes=\"[10, 20, 50, 100]\"\n            :page-size=\"pageSize\"\n            :total=\"totalPage\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            background\n            class=\"pagination-content\">\n        </el-pagination>\n      </div>\n    </template>\n\n    <add-or-update v-if=\"addOrUpdateFlag\" :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\n    <zuchedingdan-cross-add-or-update v-if=\"zuchedingdanCrossAddOrUpdateFlag\" :parent=\"this\" ref=\"zuchedingdanCrossaddOrUpdate\"></zuchedingdan-cross-add-or-update>\n  </div>\n</template>\n\n<script>\nimport AddOrUpdate from \"./add-or-update\";\nimport zuchedingdanCrossAddOrUpdate from \"../zuchedingdan/add-or-update\";\nexport default {\n  data() {\n    return {\n      qicheleibieOptions: [],\n      zhuangtaiOptions: [],\n      searchForm: {\n        chepaihao: \"\",\n        qicheleibie: \"\",\n        cheliangpinpai: \"\",\n        zhuangtai: \"\"\n      },\n      dataList: [],\n      pageIndex: 1,\n      pageSize: 10,\n      totalPage: 0,\n      dataListLoading: false,\n      dataListSelections: [],\n      showFlag: true,\n      addOrUpdateFlag:false,\n      zuchedingdanCrossAddOrUpdateFlag: false,\n    };\n  },\n  components: {\n    AddOrUpdate,\n    zuchedingdanCrossAddOrUpdate,\n  },\n  created() {\n    this.init();\n    this.getDataList();\n  },\n  methods: {\n    init () {\n      this.$http({\n        url: `option/qicheleibie/qicheleibie`,\n        method: \"get\"\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.qicheleibieOptions = data.data;\n        }\n      });\n      this.zhuangtaiOptions = \"已出租,未出租\".split(',')\n    },\n    // 重置按钮逻辑\n    resetForm() {\n      this.searchForm = {\n        chepaihao: \"\",\n        qicheleibie: \"\",\n        cheliangpinpai: \"\",\n        zhuangtai: \"\"\n      };\n      this.search();\n    },\n    search() {\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    getDataList() {\n      this.dataListLoading = true;\n      let params = {\n        page: this.pageIndex,\n        limit: this.pageSize,\n        sort: 'id',\n        order: 'desc',\n        ...this.searchForm\n      }\n      // 清理空值\n      for(let key in params){\n        if(params[key] === '' || params[key] === undefined){\n          delete params[key];\n        } else if(key !== 'page' && key !== 'limit' && key !== 'sort' && key !== 'order'){\n          params[key] = '%' + params[key] + '%' // 模糊查询处理\n          // 对于下拉框，通常是精确匹配\n          if(key === 'qicheleibie' || key === 'zhuangtai') params[key] = this.searchForm[key];\n        }\n      }\n\n      this.$http({\n        url: \"qichexinxi/page\",\n        method: \"get\",\n        params: params\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.dataList = data.data.list;\n          this.totalPage = data.data.total;\n        } else {\n          this.dataList = [];\n          this.totalPage = 0;\n        }\n        this.dataListLoading = false;\n      });\n    },\n    sizeChangeHandle(val) {\n      this.pageSize = val;\n      this.pageIndex = 1;\n      this.getDataList();\n    },\n    currentChangeHandle(val) {\n      this.pageIndex = val;\n      this.getDataList();\n    },\n    selectionChangeHandler(val) {\n      this.dataListSelections = val;\n    },\n    addOrUpdateHandler(id,type) {\n      this.showFlag = false;\n      this.addOrUpdateFlag = true;\n      this.crossAddOrUpdateFlag = false;\n      if(type!='info'){\n        type = 'else';\n      }\n      this.$nextTick(() => {\n        this.$refs.addOrUpdate.init(id,type);\n      });\n    },\n    zuchedingdanCrossAddOrUpdateHandler(row,type,crossOptAudit,statusColumnName,tips,statusColumnValue){\n      this.showFlag = false;\n      this.addOrUpdateFlag = false;\n      this.zuchedingdanCrossAddOrUpdateFlag = true;\n      this.$storage.set('crossObj',row);\n      this.$storage.set('crossTable','qichexinxi');\n      this.$storage.set('statusColumnName',statusColumnName);\n      this.$storage.set('statusColumnValue',statusColumnValue);\n      this.$storage.set('tips',tips);\n      if(statusColumnName!=''&&!statusColumnName.startsWith(\"[\")) {\n        var obj = this.$storage.getObj('crossObj');\n        for (var o in obj){\n          if(o==statusColumnName && obj[o]==statusColumnValue){\n            this.$message({\n              message: tips,\n              type: \"success\",\n              duration: 1500,\n              onClose: () => {\n                this.getDataList();\n              }\n            });\n            this.showFlag = true;\n            this.zuchedingdanCrossAddOrUpdateFlag = false;\n            return;\n          }\n        }\n      }\n      this.$nextTick(() => {\n        this.$refs.zuchedingdanCrossaddOrUpdate.init(row.id,type);\n      });\n    },\n    deleteHandler(id) {\n      var ids = id ? [Number(id)] : this.dataListSelections.map(item => Number(item.id));\n      this.$confirm(`确定进行[${id ? \"删除\" : \"批量删除\"}]操作?`, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$http({\n          url: \"qichexinxi/delete\",\n          method: \"post\",\n          data: ids\n        }).then(({ data }) => {\n          if (data && data.code === 0) {\n            this.$message.success(\"操作成功\");\n            this.search();\n          } else {\n            this.$message.error(data.msg);\n          }\n        });\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.text-danger {\n  color: #F56C6C;\n  &:hover {\n    color: #ff4949;\n  }\n}\n</style>\n"],"mappings":";;;;;;AAoGA,OAAAA,WAAA;AACA,OAAAC,4BAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,kBAAA;MACAC,gBAAA;MACAC,UAAA;QACAC,SAAA;QACAC,WAAA;QACAC,cAAA;QACAC,SAAA;MACA;MACAC,QAAA;MACAC,SAAA;MACAC,QAAA;MACAC,SAAA;MACAC,eAAA;MACAC,kBAAA;MACAC,QAAA;MACAC,eAAA;MACAC,gCAAA;IACA;EACA;EACAC,UAAA;IACAnB,WAAA,EAAAA,WAAA;IACAC,4BAAA,EAAAA;EACA;EACAmB,OAAA,WAAAA,QAAA;IACA,KAAAC,IAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAF,IAAA,WAAAA,KAAA;MAAA,IAAAG,KAAA;MACA,KAAAC,KAAA;QACAC,GAAA;QACAC,MAAA;MACA,GAAAC,IAAA,WAAAC,IAAA;QAAA,IAAA3B,IAAA,GAAA2B,IAAA,CAAA3B,IAAA;QACA,IAAAA,IAAA,IAAAA,IAAA,CAAA4B,IAAA;UACAN,KAAA,CAAArB,kBAAA,GAAAD,IAAA,CAAAA,IAAA;QACA;MACA;MACA,KAAAE,gBAAA,aAAA2B,KAAA;IACA;IACA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAA3B,UAAA;QACAC,SAAA;QACAC,WAAA;QACAC,cAAA;QACAC,SAAA;MACA;MACA,KAAAwB,MAAA;IACA;IACAA,MAAA,WAAAA,OAAA;MACA,KAAAtB,SAAA;MACA,KAAAW,WAAA;IACA;IACAA,WAAA,WAAAA,YAAA;MAAA,IAAAY,MAAA;MACA,KAAApB,eAAA;MACA,IAAAqB,MAAA,GAAAC,aAAA;QACAC,IAAA,OAAA1B,SAAA;QACA2B,KAAA,OAAA1B,QAAA;QACA2B,IAAA;QACAC,KAAA;MAAA,GACA,KAAAnC,UAAA,CACA;MACA;MACA,SAAAoC,GAAA,IAAAN,MAAA;QACA,IAAAA,MAAA,CAAAM,GAAA,YAAAN,MAAA,CAAAM,GAAA,MAAAC,SAAA;UACA,OAAAP,MAAA,CAAAM,GAAA;QACA,WAAAA,GAAA,eAAAA,GAAA,gBAAAA,GAAA,eAAAA,GAAA;UACAN,MAAA,CAAAM,GAAA,UAAAN,MAAA,CAAAM,GAAA;UACA;UACA,IAAAA,GAAA,sBAAAA,GAAA,kBAAAN,MAAA,CAAAM,GAAA,SAAApC,UAAA,CAAAoC,GAAA;QACA;MACA;MAEA,KAAAhB,KAAA;QACAC,GAAA;QACAC,MAAA;QACAQ,MAAA,EAAAA;MACA,GAAAP,IAAA,WAAAe,KAAA;QAAA,IAAAzC,IAAA,GAAAyC,KAAA,CAAAzC,IAAA;QACA,IAAAA,IAAA,IAAAA,IAAA,CAAA4B,IAAA;UACAI,MAAA,CAAAxB,QAAA,GAAAR,IAAA,CAAAA,IAAA,CAAA0C,IAAA;UACAV,MAAA,CAAArB,SAAA,GAAAX,IAAA,CAAAA,IAAA,CAAA2C,KAAA;QACA;UACAX,MAAA,CAAAxB,QAAA;UACAwB,MAAA,CAAArB,SAAA;QACA;QACAqB,MAAA,CAAApB,eAAA;MACA;IACA;IACAgC,gBAAA,WAAAA,iBAAAC,GAAA;MACA,KAAAnC,QAAA,GAAAmC,GAAA;MACA,KAAApC,SAAA;MACA,KAAAW,WAAA;IACA;IACA0B,mBAAA,WAAAA,oBAAAD,GAAA;MACA,KAAApC,SAAA,GAAAoC,GAAA;MACA,KAAAzB,WAAA;IACA;IACA2B,sBAAA,WAAAA,uBAAAF,GAAA;MACA,KAAAhC,kBAAA,GAAAgC,GAAA;IACA;IACAG,kBAAA,WAAAA,mBAAAC,EAAA,EAAAC,IAAA;MAAA,IAAAC,MAAA;MACA,KAAArC,QAAA;MACA,KAAAC,eAAA;MACA,KAAAqC,oBAAA;MACA,IAAAF,IAAA;QACAA,IAAA;MACA;MACA,KAAAG,SAAA;QACAF,MAAA,CAAAG,KAAA,CAAAC,WAAA,CAAApC,IAAA,CAAA8B,EAAA,EAAAC,IAAA;MACA;IACA;IACAM,mCAAA,WAAAA,oCAAAC,GAAA,EAAAP,IAAA,EAAAQ,aAAA,EAAAC,gBAAA,EAAAC,IAAA,EAAAC,iBAAA;MAAA,IAAAC,MAAA;MACA,KAAAhD,QAAA;MACA,KAAAC,eAAA;MACA,KAAAC,gCAAA;MACA,KAAA+C,QAAA,CAAAC,GAAA,aAAAP,GAAA;MACA,KAAAM,QAAA,CAAAC,GAAA;MACA,KAAAD,QAAA,CAAAC,GAAA,qBAAAL,gBAAA;MACA,KAAAI,QAAA,CAAAC,GAAA,sBAAAH,iBAAA;MACA,KAAAE,QAAA,CAAAC,GAAA,SAAAJ,IAAA;MACA,IAAAD,gBAAA,WAAAA,gBAAA,CAAAM,UAAA;QACA,IAAAC,GAAA,QAAAH,QAAA,CAAAI,MAAA;QACA,SAAAC,CAAA,IAAAF,GAAA;UACA,IAAAE,CAAA,IAAAT,gBAAA,IAAAO,GAAA,CAAAE,CAAA,KAAAP,iBAAA;YACA,KAAAQ,QAAA;cACAC,OAAA,EAAAV,IAAA;cACAV,IAAA;cACAqB,QAAA;cACAC,OAAA,WAAAA,QAAA;gBACAV,MAAA,CAAA1C,WAAA;cACA;YACA;YACA,KAAAN,QAAA;YACA,KAAAE,gCAAA;YACA;UACA;QACA;MACA;MACA,KAAAqC,SAAA;QACAS,MAAA,CAAAR,KAAA,CAAAmB,4BAAA,CAAAtD,IAAA,CAAAsC,GAAA,CAAAR,EAAA,EAAAC,IAAA;MACA;IACA;IACAwB,aAAA,WAAAA,cAAAzB,EAAA;MAAA,IAAA0B,MAAA;MACA,IAAAC,GAAA,GAAA3B,EAAA,IAAA4B,MAAA,CAAA5B,EAAA,UAAApC,kBAAA,CAAAiE,GAAA,WAAAC,IAAA;QAAA,OAAAF,MAAA,CAAAE,IAAA,CAAA9B,EAAA;MAAA;MACA,KAAA+B,QAAA,6BAAAC,MAAA,CAAAhC,EAAA;QACAiC,iBAAA;QACAC,gBAAA;QACAjC,IAAA;MACA,GAAAxB,IAAA;QACAiD,MAAA,CAAApD,KAAA;UACAC,GAAA;UACAC,MAAA;UACAzB,IAAA,EAAA4E;QACA,GAAAlD,IAAA,WAAA0D,KAAA;UAAA,IAAApF,IAAA,GAAAoF,KAAA,CAAApF,IAAA;UACA,IAAAA,IAAA,IAAAA,IAAA,CAAA4B,IAAA;YACA+C,MAAA,CAAAN,QAAA,CAAAgB,OAAA;YACAV,MAAA,CAAA5C,MAAA;UACA;YACA4C,MAAA,CAAAN,QAAA,CAAAiB,KAAA,CAAAtF,IAAA,CAAAuF,GAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}