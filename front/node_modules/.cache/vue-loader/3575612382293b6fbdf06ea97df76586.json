{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\forum\\myForumList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\forum\\myForumList.vue","mtime":1765166373614},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxheW91dHM6ICcnLA0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIHRvdGFsOiAxLA0KICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgcGFnZVNpemVzOiBbMTAsIDIwLCAzMCwgNTBdLA0KICAgICAgdG90YWxQYWdlOiAxDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0TXlGb3J1bUxpc3QoMSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBiYWNrQ2xpY2soKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L2NlbnRlcicpDQogICAgfSwNCiAgICBnZXRNeUZvcnVtTGlzdChwYWdlKSB7DQogICAgICB0aGlzLiRodHRwLmdldCgnZm9ydW0vbGlzdCcsIHtwYXJhbXM6IHtwYWdlLCBsaW1pdDogdGhpcy5wYWdlU2l6ZSwgcGFyZW50aWQ6IDAsIHNvcnQ6ICdhZGR0aW1lJywgb3JkZXI6ICdkZXNjJ319KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGEubGlzdDsNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RhbDsNCiAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gcmVzLmRhdGEuZGF0YS5wYWdlU2l6ZTsNCiAgICAgICAgICB0aGlzLnBhZ2VTaXplcyA9IFt0aGlzLnBhZ2VTaXplLCB0aGlzLnBhZ2VTaXplKjIsIHRoaXMucGFnZVNpemUqMywgdGhpcy5wYWdlU2l6ZSo1XTsNCiAgICAgICAgICB0aGlzLnRvdGFsUGFnZSA9IHJlcy5kYXRhLmRhdGEudG90YWxQYWdlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGN1ckNoYW5nZShwYWdlKSB7DQogICAgICB0aGlzLmdldE15Rm9ydW1MaXN0KHBhZ2UpOw0KICAgIH0sDQogICAgcHJldkNsaWNrKHBhZ2UpIHsNCiAgICAgIHRoaXMuZ2V0TXlGb3J1bUxpc3QocGFnZSk7DQogICAgfSwNCiAgICBuZXh0Q2xpY2socGFnZSkgew0KICAgICAgdGhpcy5nZXRNeUZvcnVtTGlzdChwYWdlKTsNCiAgICB9LA0KICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvaW5kZXgvZm9ydW1BZGQnLCBxdWVyeToge2lkOiByb3cuaWQsIGVkaXRPYmo6IEpTT04uc3RyaW5naWZ5KHJvdyl9fSkNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrpropoHliKDpmaTov5nmnaHluJblrZDlkJc/JywgJ+a4qemmqOaPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgbGV0IGRlbElkcyA9IG5ldyBBcnJheSgpOw0KICAgICAgICBkZWxJZHMucHVzaChyb3cuaWQpOw0KICAgICAgICB0aGlzLiRodHRwLnBvc3QoJ2ZvcnVtL2RlbGV0ZScsIGRlbElkcykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJywNCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsDQogICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldE15Rm9ydW1MaXN0KDEpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["myForumList.vue"],"names":[],"mappings":";AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myForumList.vue","sourceRoot":"src/pages/forum","sourcesContent":["<template>\r\n  <div class=\"my-publish-container\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-left\">\r\n        <span class=\"title\">我的发布</span>\r\n        <span class=\"subtitle\">管理您发布的帖子内容</span>\r\n      </div>\r\n      <el-button\r\n          type=\"text\"\r\n          icon=\"el-icon-back\"\r\n          class=\"back-btn\"\r\n          @click=\"backClick\">返回个人中心</el-button>\r\n    </div>\r\n\r\n    <div class=\"table-container\">\r\n      <el-table\r\n          :data=\"tableData\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{background:'#f5f7fa',color:'#606266'}\"\r\n          class=\"custom-table\"\r\n          stripe>\r\n        <el-table-column\r\n            label=\"帖子标题\"\r\n            prop=\"title\"\r\n            min-width=\"200\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"post-title\">{{ scope.row.title }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"发布时间\"\r\n            prop=\"addtime\"\r\n            width=\"180\"\r\n            align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <i class=\"el-icon-time\" style=\"margin-right: 5px; color: #909399;\"></i>\r\n            {{ scope.row.addtime }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"primary\"\r\n                plain\r\n                icon=\"el-icon-edit\"\r\n                @click=\"handleEdit(scope.$index, scope.row)\">修改</el-button>\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                plain\r\n                icon=\"el-icon-delete\"\r\n                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-empty v-if=\"tableData.length === 0\" description=\"您还没有发布过帖子\"></el-empty>\r\n    </div>\r\n\r\n    <div class=\"pagination-box\">\r\n      <el-pagination\r\n          background\r\n          @current-change=\"curChange\"\r\n          @prev-click=\"prevClick\"\r\n          @next-click=\"nextClick\"\r\n          :current-page=\"1\"\r\n          :page-sizes=\"pageSizes\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      layouts: '',\r\n      tableData: [],\r\n      total: 1,\r\n      pageSize: 10,\r\n      pageSizes: [10, 20, 30, 50],\r\n      totalPage: 1\r\n    }\r\n  },\r\n  created() {\r\n    this.getMyForumList(1);\r\n  },\r\n  methods: {\r\n    backClick() {\r\n      this.$router.push('/index/center')\r\n    },\r\n    getMyForumList(page) {\r\n      this.$http.get('forum/list', {params: {page, limit: this.pageSize, parentid: 0, sort: 'addtime', order: 'desc'}}).then(res => {\r\n        if (res.data.code == 0) {\r\n          this.tableData = res.data.data.list;\r\n          this.total = res.data.data.total;\r\n          this.pageSize = res.data.data.pageSize;\r\n          this.pageSizes = [this.pageSize, this.pageSize*2, this.pageSize*3, this.pageSize*5];\r\n          this.totalPage = res.data.data.totalPage;\r\n        }\r\n      });\r\n    },\r\n    curChange(page) {\r\n      this.getMyForumList(page);\r\n    },\r\n    prevClick(page) {\r\n      this.getMyForumList(page);\r\n    },\r\n    nextClick(page) {\r\n      this.getMyForumList(page);\r\n    },\r\n    handleEdit(index, row) {\r\n      this.$router.push({path: '/index/forumAdd', query: {id: row.id, editObj: JSON.stringify(row)}})\r\n    },\r\n    handleDelete(index, row) {\r\n      this.$confirm('确定要删除这条帖子吗?', '温馨提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let delIds = new Array();\r\n        delIds.push(row.id);\r\n        this.$http.post('forum/delete', delIds).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!',\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.getMyForumList(1);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.my-publish-container {\r\n  width: 1200px;\r\n  margin: 20px auto;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.05);\r\n  padding: 30px;\r\n  min-height: 600px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n\r\n  .header-left {\r\n    .title {\r\n      font-size: 24px;\r\n      font-weight: bold;\r\n      color: #333;\r\n      margin-right: 15px;\r\n    }\r\n    .subtitle {\r\n      font-size: 14px;\r\n      color: #999;\r\n    }\r\n  }\r\n\r\n  .back-btn {\r\n    font-size: 14px;\r\n    color: #666;\r\n    &:hover {\r\n      color: #409EFF;\r\n    }\r\n  }\r\n}\r\n\r\n.table-container {\r\n  margin-bottom: 30px;\r\n\r\n  .custom-table {\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .post-title {\r\n    font-weight: 500;\r\n    color: #333;\r\n  }\r\n}\r\n\r\n.pagination-box {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n"]}]}