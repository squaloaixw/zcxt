{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\qichezixun\\detail.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\qichezixun\\detail.vue","mtime":1765097796018},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ291bnREb3duIGZyb20gJ0AvY29tcG9uZW50cy9Db3VudERvd24nOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIC8v5pWw5o2u6ZuG5ZCIDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlbmFtZTogJ3FpY2hleml4dW4nLA0KICAgICAgYmFzZVVybDogJycsDQogICAgICBicmVhZGNydW1iSXRlbTogWw0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+ivpuaDheS/oeaBrycNCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIHRpdGxlOiAnJywNCiAgICAgIGRldGFpbEJhbm5lcjogW10sDQogICAgICBlbmRUaW1lOiAwLA0KICAgICAgaG90TGlzdDogW10sDQogICAgICBkZXRhaWw6IHt9LA0KICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywNCiAgICAgIHRvdGFsOiAxLA0KICAgICAgcGFnZVNpemU6IDUsDQogICAgICBwYWdlU2l6ZXM6IFsxMCwgMjAsIDMwLCA1MF0sDQogICAgICB0b3RhbFBhZ2U6IDEsDQogICAgICBydWxlczogew0KICAgICAgICBjb250ZW50OiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWGheWuuScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICBzdG9yZXVwUGFyYW1zOiB7DQogICAgICAgIG5hbWU6ICcnLA0KICAgICAgICBwaWN0dXJlOiAnJywNCiAgICAgICAgcmVmaWQ6IDAsDQogICAgICAgIHRhYmxlbmFtZTogJ3FpY2hleml4dW4nLA0KICAgICAgICB1c2VyaWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyaWQnKQ0KICAgICAgfSwNCiAgICAgIGlzU3RvcmV1cDogZmFsc2UsDQogICAgICBzdG9yZXVwSW5mbzoge30sDQogICAgICBidXludW1iZXI6IDEsDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KICAvL+aWueazlembhuWQiA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuJGNvbmZpZy5iYXNlVXJsOw0KDQogICAgICAvLyAtLS0g5qC45b+D5L+u5aSN77ya5YW85a655aSa56eN5Y+C5pWw5Lyg6YCS5pa55byPIC0tLQ0KICAgICAgLy8gMS4g5aaC5p6cIFVSTCDkuK3nm7TmjqXljIXlkKsgaWQg5Y+C5pWwICjlpoIgP2lkPTgxKQ0KICAgICAgaWYodGhpcy4kcm91dGUucXVlcnkuaWQpIHsNCiAgICAgICAgdGhpcy5kZXRhaWwuaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsNCiAgICAgIH0NCiAgICAgIC8vIDIuIOWmguaenCBVUkwg5YyF5ZCrIGRldGFpbE9iaiDlr7nosaHlrZfnrKbkuLINCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5kZXRhaWxPYmopIHsNCiAgICAgICAgdGhpcy5kZXRhaWwgPSBKU09OLnBhcnNlKHRoaXMuJHJvdXRlLnF1ZXJ5LmRldGFpbE9iaik7DQogICAgICB9DQogICAgICAvLyAzLiDlpoLmnpzku47mlLbol4/pobXot7Povazov4fmnaUNCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zdG9yZXVwT2JqKSB7DQogICAgICAgIHRoaXMuZGV0YWlsLmlkID0gSlNPTi5wYXJzZSh0aGlzLiRyb3V0ZS5xdWVyeS5zdG9yZXVwT2JqKS5yZWZpZDsNCiAgICAgIH0NCg0KICAgICAgLy8gLS0tIOehruS/neiOt+WPluWIsCBJRCDlkI7lho3lj5Hotbfor7fmsYLvvIzpgb/lhY0gdW5kZWZpbmVkIOmUmeivryAtLS0NCiAgICAgIGlmICh0aGlzLmRldGFpbC5pZCkgew0KICAgICAgICB0aGlzLiRodHRwLmdldCh0aGlzLnRhYmxlbmFtZSArICcvZGV0YWlsLycgKyB0aGlzLmRldGFpbC5pZCwge30pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgICAgICB0aGlzLmRldGFpbCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy5kZXRhaWwuYmlhb3RpOw0KICAgICAgICAgICAgdGhpcy5kZXRhaWxCYW5uZXIgPSB0aGlzLmRldGFpbC5mZW5nbWlhbiA/IHRoaXMuZGV0YWlsLmZlbmdtaWFuLnNwbGl0KCIsIikgOiBbXTsNCiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgLy8g6I635Y+W5pS26JeP54q25oCBDQogICAgICAgIHRoaXMuZ2V0U3RvcmV1cFN0YXR1cygpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc29sZS53YXJuKCLmnKrojrflj5bliLDmnInmlYjnmoQgZGV0YWlsIElE77yM5peg5rOV6K+35rGC5pWw5o2uIik7DQogICAgICB9DQoNCiAgICAgIC8vIOiOt+WPlueDremXqOWIl+ihqO+8iOS4jemcgOimgSBJRO+8iQ0KICAgICAgdGhpcy5nZXRIb3RMaXN0KCk7DQogICAgfSwNCiAgICB0b0RldGFpbChpdGVtKSB7DQogICAgICAvLyDnu5/kuIDot7PovazpgLvovpHvvIzkvKDpgJIgZGV0YWlsT2JqDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvaW5kZXgvcWljaGV6aXh1bkRldGFpbCcsIHF1ZXJ5OiB7IGRldGFpbE9iajogSlNPTi5zdHJpbmdpZnkoaXRlbSkgfSB9KTsNCiAgICAgIC8vIOW8uuWItumHjeaWsOWKoOi9veaVsOaNru+8jOWboOS4uuaYr+WQjOi3r+eUsei3s+i9rA0KICAgICAgdGhpcy5kZXRhaWwgPSBpdGVtOw0KICAgICAgdGhpcy5pbml0KCk7DQogICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7DQogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsNCiAgICB9LA0KICAgIGdldEhvdExpc3QoKSB7DQogICAgICBsZXQgYXV0b1NvcnRVcmwgPSAicWljaGV6aXh1bi9hdXRvU29ydCI7DQogICAgICB0aGlzLiRodHRwLmdldChhdXRvU29ydFVybCwgew0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgIGxpbWl0OiA0LA0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICB0aGlzLmhvdExpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3Q7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBzdG9yZXVwKHR5cGUpIHsNCiAgICAgIC8vIDEuIOagoemqjOaVsOaNruWujOaVtOaApw0KICAgICAgaWYgKCF0aGlzLmRldGFpbC5pZCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlbDmja7liqDovb3lvILluLjvvIzml6Dms5Xmk43kvZwnKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICAvLyAyLiDmoLjlv4Pkv67lpI3vvJrmo4Dmn6XnmbvlvZXnirbmgIENCiAgICAgIC8vIOW/hemhu+WunuaXtuiOt+WPliB1c2VyaWTvvIzkuI3og73kvp3otZYgZGF0YSgpIOS4reWIneWni+WMlueahOWAvO+8iOWboOS4uuWPr+iDveaYryBudWxs77yJDQogICAgICBsZXQgdXNlcmlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpOw0KICAgICAgaWYgKCF1c2VyaWQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35YWI55m75b2VJyk7DQogICAgICAgIC8vIOWPr+mAie+8muiHquWKqOi3s+i9rOWIsOeZu+W9lemhtQ0KICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy8gMy4g5YeG5aSH6K+35rGC5Y+C5pWwDQogICAgICAvLyDnoa7kv53miYDmnInlrZfmrrXpg73mnInlgLzvvIzpmLLmraLlkI7nq6/miqXnqbrmjIfpkojplJnor68NCiAgICAgIHRoaXMuc3RvcmV1cFBhcmFtcy51c2VyaWQgPSB1c2VyaWQ7DQogICAgICB0aGlzLnN0b3JldXBQYXJhbXMubmFtZSA9IHRoaXMudGl0bGU7DQogICAgICAvLyDlronlhajojrflj5blm77niYfvvIzlpoLmnpzmsqHmnInliJnkvKDnqbrlrZfnrKbkuLINCiAgICAgIHRoaXMuc3RvcmV1cFBhcmFtcy5waWN0dXJlID0gKHRoaXMuZGV0YWlsQmFubmVyICYmIHRoaXMuZGV0YWlsQmFubmVyLmxlbmd0aCA+IDApID8gdGhpcy5kZXRhaWxCYW5uZXJbMF0gOiAnJzsNCiAgICAgIHRoaXMuc3RvcmV1cFBhcmFtcy5yZWZpZCA9IHRoaXMuZGV0YWlsLmlkOw0KICAgICAgdGhpcy5zdG9yZXVwUGFyYW1zLnR5cGUgPSB0eXBlOyAvLyB0eXBlPTEg6KGo56S65pS26JePDQoNCiAgICAgIC8vIDQuIOaJp+ihjOaUtuiXj+mAu+i+kQ0KICAgICAgaWYgKHR5cGUgPT0gMSAmJiAhdGhpcy5pc1N0b3JldXApIHsNCiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCdzdG9yZXVwL2FkZCcsIHRoaXMuc3RvcmV1cFBhcmFtcykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuaXNTdG9yZXVwID0gdHJ1ZTsNCiAgICAgICAgICAgIC8vIOaUtuiXj+aIkOWKn+WQju+8jOmHjeaWsOiOt+WPluS4gOS4i+aUtuiXj+S/oeaBr++8jOS7peS+v+iOt+WPliBzdG9yZXVwSW5mby5pZCDnlKjkuo7lj5bmtojmlLbol48NCiAgICAgICAgICAgIHRoaXMuZ2V0U3RvcmV1cFN0YXR1cygpOw0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+aUtuiXj+aIkOWKnyEnLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIC8vIDUuIOaJp+ihjOWPlua2iOaUtuiXj+mAu+i+kQ0KICAgICAgaWYgKHR5cGUgPT0gLTEgJiYgdGhpcy5pc1N0b3JldXApIHsNCiAgICAgICAgaWYgKCF0aGlzLnN0b3JldXBJbmZvIHx8ICF0aGlzLnN0b3JldXBJbmZvLmlkKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+W5raI5aSx6LSl77yM5peg5rOV6I635Y+W5pS26JeP6K6w5b2VSUQnKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgbGV0IGRlbElkcyA9IG5ldyBBcnJheSgpOw0KICAgICAgICBkZWxJZHMucHVzaCh0aGlzLnN0b3JldXBJbmZvLmlkKTsNCiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCdzdG9yZXVwL2RlbGV0ZScsIGRlbElkcykudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgIHRoaXMuaXNTdG9yZXVwID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLnN0b3JldXBJbmZvID0ge307IC8vIOa4heepuuS/oeaBrw0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOaIkOWKnyEnLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRTdG9yZXVwU3RhdHVzKCkgew0KICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJUb2tlbiIpKSB7DQogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCdzdG9yZXVwL2xpc3QnLCB7IHBhcmFtczogeyBwYWdlOiAxLCBsaW1pdDogMSwgdHlwZTogMSwgcmVmaWQ6IHRoaXMuZGV0YWlsLmlkLCB0YWJsZW5hbWU6ICdxaWNoZXppeHVuJywgdXNlcmlkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmlkJykgfSB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCAmJiByZXMuZGF0YS5kYXRhLmxpc3QubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgdGhpcy5pc1N0b3JldXAgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5zdG9yZXVwSW5mbyA9IHJlcy5kYXRhLmRhdGEubGlzdFswXTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZG93bmxvYWQoZmlsZSkgew0KICAgICAgaWYgKCFmaWxlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgbWVzc2FnZTogJ+aWh+S7tuS4jeWtmOWcqCcsDQogICAgICAgICAgZHVyYXRpb246IDE1MDAsDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB3aW5kb3cub3Blbih0aGlzLmJhc2VVcmwgKyBmaWxlKQ0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBDb3VudERvd24NCiAgfQ0KfQ0K"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";AA+FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/pages/qichezixun","sourcesContent":["<template>\r\n  <div class=\"detail-container\">\r\n    <div class=\"breadcrumb-box\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/index' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>汽车资讯</el-breadcrumb-item>\r\n        <el-breadcrumb-item>详情</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <div class=\"main-content\" v-if=\"detail.id\">\r\n      <div class=\"top-section\">\r\n        <div class=\"carousel-box\">\r\n          <el-carousel trigger=\"click\" height=\"400px\" indicator-position=\"outside\">\r\n            <el-carousel-item v-for=\"(item, index) in detailBanner\" :key=\"index\">\r\n              <div class=\"image-wrapper\">\r\n                <el-image\r\n                    style=\"width: 100%; height: 100%\"\r\n                    :src=\"item.substr(0,4)=='http' ? item : baseUrl + item\"\r\n                    fit=\"cover\"\r\n                    class=\"carousel-image\">\r\n                </el-image>\r\n              </div>\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </div>\r\n\r\n        <div class=\"info-box\">\r\n          <h1 class=\"title\">{{ detail.biaoti }}</h1>\r\n\r\n          <div class=\"meta-row\">\r\n            <span class=\"meta-item\"><i class=\"el-icon-time\"></i> {{ detail.fabushijian }}</span>\r\n            <span class=\"meta-item\"><i class=\"el-icon-user\"></i> {{ detail.faburen }}</span>\r\n            <span class=\"meta-item\"><i class=\"el-icon-view\"></i> {{ detail.clicknum }}次浏览</span>\r\n          </div>\r\n\r\n          <div class=\"intro-box\">\r\n            <div class=\"label\">简介：</div>\r\n            <div class=\"content\">{{ detail.jianjie }}</div>\r\n          </div>\r\n\r\n          <div class=\"actions\">\r\n            <div class=\"store-btn\" @click=\"storeup(1)\" v-if=\"!isStoreup\">\r\n              <i class=\"el-icon-star-off\"></i> 收藏资讯\r\n            </div>\r\n            <div class=\"store-btn active\" @click=\"storeup(-1)\" v-else>\r\n              <i class=\"el-icon-star-on\"></i> 已收藏\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"content-section\">\r\n        <el-tabs v-model=\"activeName\" type=\"border-card\">\r\n          <el-tab-pane label=\"详细内容\" name=\"first\">\r\n            <div class=\"rich-text\" v-html=\"detail.neirong\"></div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n\r\n      <div class=\"hot-section\">\r\n        <div class=\"section-header\">\r\n          <span>热门推荐</span>\r\n        </div>\r\n        <div class=\"hot-list\">\r\n          <div\r\n              class=\"hot-item\"\r\n              v-for=\"item in hotList\"\r\n              :key=\"item.id\"\r\n              @click=\"toDetail(item)\"\r\n          >\r\n            <div class=\"img-box\">\r\n              <el-image\r\n                  v-if=\"item.fengmian\"\r\n                  style=\"width: 100%; height: 100%\"\r\n                  :src=\"baseUrl + item.fengmian.split(',')[0]\"\r\n                  fit=\"cover\">\r\n              </el-image>\r\n            </div>\r\n            <div class=\"info\">\r\n              <div class=\"hot-title\">{{ item.biaoti }}</div>\r\n              <div class=\"hot-meta\">{{ item.faburen }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"loading-state\">\r\n      <i class=\"el-icon-loading\"></i> 正在加载详情...\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CountDown from '@/components/CountDown';\r\n\r\nexport default {\r\n  //数据集合\r\n  data() {\r\n    return {\r\n      tablename: 'qichezixun',\r\n      baseUrl: '',\r\n      breadcrumbItem: [\r\n        {\r\n          name: '详情信息'\r\n        }\r\n      ],\r\n      title: '',\r\n      detailBanner: [],\r\n      endTime: 0,\r\n      hotList: [],\r\n      detail: {},\r\n      activeName: 'first',\r\n      total: 1,\r\n      pageSize: 5,\r\n      pageSizes: [10, 20, 30, 50],\r\n      totalPage: 1,\r\n      rules: {\r\n        content: [\r\n          { required: true, message: '请输入内容', trigger: 'blur' }\r\n        ]\r\n      },\r\n      storeupParams: {\r\n        name: '',\r\n        picture: '',\r\n        refid: 0,\r\n        tablename: 'qichezixun',\r\n        userid: localStorage.getItem('userid')\r\n      },\r\n      isStoreup: false,\r\n      storeupInfo: {},\r\n      buynumber: 1,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  //方法集合\r\n  methods: {\r\n    init() {\r\n      this.baseUrl = this.$config.baseUrl;\r\n\r\n      // --- 核心修复：兼容多种参数传递方式 ---\r\n      // 1. 如果 URL 中直接包含 id 参数 (如 ?id=81)\r\n      if(this.$route.query.id) {\r\n        this.detail.id = this.$route.query.id;\r\n      }\r\n      // 2. 如果 URL 包含 detailObj 对象字符串\r\n      if (this.$route.query.detailObj) {\r\n        this.detail = JSON.parse(this.$route.query.detailObj);\r\n      }\r\n      // 3. 如果从收藏页跳转过来\r\n      if (this.$route.query.storeupObj) {\r\n        this.detail.id = JSON.parse(this.$route.query.storeupObj).refid;\r\n      }\r\n\r\n      // --- 确保获取到 ID 后再发起请求，避免 undefined 错误 ---\r\n      if (this.detail.id) {\r\n        this.$http.get(this.tablename + '/detail/' + this.detail.id, {}).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.detail = res.data.data;\r\n            this.title = this.detail.biaoti;\r\n            this.detailBanner = this.detail.fengmian ? this.detail.fengmian.split(\",\") : [];\r\n            this.$forceUpdate();\r\n          }\r\n        });\r\n        // 获取收藏状态\r\n        this.getStoreupStatus();\r\n      } else {\r\n        console.warn(\"未获取到有效的 detail ID，无法请求数据\");\r\n      }\r\n\r\n      // 获取热门列表（不需要 ID）\r\n      this.getHotList();\r\n    },\r\n    toDetail(item) {\r\n      // 统一跳转逻辑，传递 detailObj\r\n      this.$router.push({ path: '/index/qichezixunDetail', query: { detailObj: JSON.stringify(item) } });\r\n      // 强制重新加载数据，因为是同路由跳转\r\n      this.detail = item;\r\n      this.init();\r\n      document.body.scrollTop = 0;\r\n      document.documentElement.scrollTop = 0;\r\n    },\r\n    getHotList() {\r\n      let autoSortUrl = \"qichezixun/autoSort\";\r\n      this.$http.get(autoSortUrl, {\r\n        params: {\r\n          page: 1,\r\n          limit: 4,\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code == 0) {\r\n          this.hotList = res.data.data.list;\r\n        }\r\n      })\r\n    },\r\n    storeup(type) {\r\n      // 1. 校验数据完整性\r\n      if (!this.detail.id) {\r\n        this.$message.error('数据加载异常，无法操作');\r\n        return;\r\n      }\r\n\r\n      // 2. 核心修复：检查登录状态\r\n      // 必须实时获取 userid，不能依赖 data() 中初始化的值（因为可能是 null）\r\n      let userid = localStorage.getItem('userid');\r\n      if (!userid) {\r\n        this.$message.error('请先登录');\r\n        // 可选：自动跳转到登录页\r\n        // this.$router.push('/login');\r\n        return;\r\n      }\r\n\r\n      // 3. 准备请求参数\r\n      // 确保所有字段都有值，防止后端报空指针错误\r\n      this.storeupParams.userid = userid;\r\n      this.storeupParams.name = this.title;\r\n      // 安全获取图片，如果没有则传空字符串\r\n      this.storeupParams.picture = (this.detailBanner && this.detailBanner.length > 0) ? this.detailBanner[0] : '';\r\n      this.storeupParams.refid = this.detail.id;\r\n      this.storeupParams.type = type; // type=1 表示收藏\r\n\r\n      // 4. 执行收藏逻辑\r\n      if (type == 1 && !this.isStoreup) {\r\n        this.$http.post('storeup/add', this.storeupParams).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.isStoreup = true;\r\n            // 收藏成功后，重新获取一下收藏信息，以便获取 storeupInfo.id 用于取消收藏\r\n            this.getStoreupStatus();\r\n            this.$message({\r\n              type: 'success',\r\n              message: '收藏成功!',\r\n              duration: 1500,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      // 5. 执行取消收藏逻辑\r\n      if (type == -1 && this.isStoreup) {\r\n        if (!this.storeupInfo || !this.storeupInfo.id) {\r\n          this.$message.error('取消失败，无法获取收藏记录ID');\r\n          return;\r\n        }\r\n        let delIds = new Array();\r\n        delIds.push(this.storeupInfo.id);\r\n        this.$http.post('storeup/delete', delIds).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.isStoreup = false;\r\n            this.storeupInfo = {}; // 清空信息\r\n            this.$message({\r\n              type: 'success',\r\n              message: '取消成功!',\r\n              duration: 1500,\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getStoreupStatus() {\r\n      if (localStorage.getItem(\"Token\")) {\r\n        this.$http.get('storeup/list', { params: { page: 1, limit: 1, type: 1, refid: this.detail.id, tablename: 'qichezixun', userid: localStorage.getItem('userid') } }).then(res => {\r\n          if (res.data.code == 0 && res.data.data.list.length > 0) {\r\n            this.isStoreup = true;\r\n            this.storeupInfo = res.data.data.list[0];\r\n          }\r\n        });\r\n      }\r\n    },\r\n    download(file) {\r\n      if (!file) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '文件不存在',\r\n          duration: 1500,\r\n        });\r\n        return;\r\n      }\r\n      window.open(this.baseUrl + file)\r\n    },\r\n  },\r\n  components: {\r\n    CountDown\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.detail-container {\r\n  width: 100%;\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.loading-state {\r\n  padding: 50px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 16px;\r\n}\r\n\r\n.breadcrumb-box {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px 0;\r\n}\r\n\r\n.main-content {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* 顶部区域 */\r\n.top-section {\r\n  display: flex;\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 20px;\r\n  gap: 30px;\r\n}\r\n\r\n.carousel-box {\r\n  width: 50%;\r\n  flex-shrink: 0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n\r\n  /* 修复 el-carousel 内部可能的圆角溢出 */\r\n  /deep/ .el-carousel__item {\r\n    border-radius: 8px;\r\n  }\r\n}\r\n\r\n.image-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.info-box {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .title {\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin: 0 0 15px 0;\r\n    line-height: 1.4;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .meta-row {\r\n    display: flex;\r\n    gap: 20px;\r\n    color: #999;\r\n    font-size: 14px;\r\n    margin-bottom: 20px;\r\n\r\n    .meta-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 5px;\r\n    }\r\n  }\r\n\r\n  .intro-box {\r\n    background: #f8f9fa;\r\n    padding: 15px;\r\n    border-radius: 6px;\r\n    margin-bottom: 20px;\r\n    border-left: 4px solid #409EFF;\r\n\r\n    .label {\r\n      font-weight: bold;\r\n      margin-bottom: 8px;\r\n      color: #666;\r\n    }\r\n\r\n    .content {\r\n      color: #666;\r\n      line-height: 1.6;\r\n      font-size: 14px;\r\n      max-height: 150px;\r\n      overflow-y: auto;\r\n    }\r\n  }\r\n\r\n  .actions {\r\n    margin-top: auto;\r\n    display: flex;\r\n    gap: 15px;\r\n\r\n    .store-btn {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      padding: 10px 25px;\r\n      border-radius: 20px;\r\n      cursor: pointer;\r\n      font-size: 14px;\r\n      transition: all 0.3s;\r\n      border: 1px solid #dcdfe6;\r\n      color: #606266;\r\n      background: #fff;\r\n\r\n      &:hover {\r\n        border-color: #409EFF;\r\n        color: #409EFF;\r\n      }\r\n\r\n      &.active {\r\n        background: #fff;\r\n        border-color: #ffba00;\r\n        color: #ffba00;\r\n      }\r\n\r\n      i {\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 内容区域 */\r\n.content-section {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 20px;\r\n  overflow: hidden;\r\n\r\n  /* 使用 /deep/ 替代 ::v-deep 以获得更好兼容性 */\r\n  /deep/ .el-tabs--border-card {\r\n    border: none;\r\n    box-shadow: none;\r\n  }\r\n\r\n  /deep/ .el-tabs__header {\r\n    background-color: #f5f7fa;\r\n    border-bottom: 1px solid #e4e7ed;\r\n  }\r\n\r\n  /deep/ .el-tabs__item.is-active {\r\n    color: #409EFF;\r\n    font-weight: bold;\r\n    border-top: 2px solid #409EFF; /* 增加选中态的顶部高亮 */\r\n  }\r\n\r\n  .rich-text {\r\n    padding: 20px;\r\n    min-height: 300px;\r\n    line-height: 1.8;\r\n    color: #333;\r\n\r\n    /deep/ img {\r\n      max-width: 100%;\r\n      height: auto;\r\n      display: block;\r\n      margin: 10px auto;\r\n    }\r\n  }\r\n}\r\n\r\n/* 热门推荐 */\r\n.hot-section {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  padding: 20px;\r\n\r\n  .section-header {\r\n    border-left: 4px solid #409EFF;\r\n    padding-left: 10px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n  }\r\n\r\n  .hot-list {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 20px;\r\n  }\r\n\r\n  .hot-item {\r\n    flex: 1;\r\n    cursor: pointer;\r\n    transition: transform 0.3s;\r\n    background: #fff;\r\n\r\n    &:hover {\r\n      transform: translateY(-5px);\r\n\r\n      .hot-title {\r\n        color: #409EFF;\r\n      }\r\n    }\r\n\r\n    .img-box {\r\n      width: 100%;\r\n      height: 160px;\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      margin-bottom: 10px;\r\n      background: #eee;\r\n    }\r\n\r\n    .info {\r\n      .hot-title {\r\n        font-size: 15px;\r\n        color: #333;\r\n        margin-bottom: 6px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        font-weight: 500;\r\n      }\r\n\r\n      .hot-meta {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}