{"remainingRequest":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\qichezixun\\detail.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Java\\code\\zcxt\\xt\\front\\src\\pages\\qichezixun\\detail.vue","mtime":1765097796018},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\babel.config.js","mtime":1678271625000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Java\\code\\zcxt\\xt\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBDb3VudERvd24gZnJvbSAnQC9jb21wb25lbnRzL0NvdW50RG93bic7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+aVsOaNrumbhuWQiAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZW5hbWU6ICdxaWNoZXppeHVuJywKICAgICAgYmFzZVVybDogJycsCiAgICAgIGJyZWFkY3J1bWJJdGVtOiBbewogICAgICAgIG5hbWU6ICfor6bmg4Xkv6Hmga8nCiAgICAgIH1dLAogICAgICB0aXRsZTogJycsCiAgICAgIGRldGFpbEJhbm5lcjogW10sCiAgICAgIGVuZFRpbWU6IDAsCiAgICAgIGhvdExpc3Q6IFtdLAogICAgICBkZXRhaWw6IHt9LAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICB0b3RhbDogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHBhZ2VTaXplczogWzEwLCAyMCwgMzAsIDUwXSwKICAgICAgdG90YWxQYWdlOiAxLAogICAgICBydWxlczogewogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlhoXlrrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgc3RvcmV1cFBhcmFtczogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHBpY3R1cmU6ICcnLAogICAgICAgIHJlZmlkOiAwLAogICAgICAgIHRhYmxlbmFtZTogJ3FpY2hleml4dW4nLAogICAgICAgIHVzZXJpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpCiAgICAgIH0sCiAgICAgIGlzU3RvcmV1cDogZmFsc2UsCiAgICAgIHN0b3JldXBJbmZvOiB7fSwKICAgICAgYnV5bnVtYmVyOiAxCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgLy/mlrnms5Xpm4blkIgKICBtZXRob2RzOiB7CiAgICBpbml0KCkgewogICAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLiRjb25maWcuYmFzZVVybDsKCiAgICAgIC8vIC0tLSDmoLjlv4Pkv67lpI3vvJrlhbzlrrnlpJrnp43lj4LmlbDkvKDpgJLmlrnlvI8gLS0tCiAgICAgIC8vIDEuIOWmguaenCBVUkwg5Lit55u05o6l5YyF5ZCrIGlkIOWPguaVsCAo5aaCID9pZD04MSkKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgICAgdGhpcy5kZXRhaWwuaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgICAgfQogICAgICAvLyAyLiDlpoLmnpwgVVJMIOWMheWQqyBkZXRhaWxPYmog5a+56LGh5a2X56ym5LiyCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5kZXRhaWxPYmopIHsKICAgICAgICB0aGlzLmRldGFpbCA9IEpTT04ucGFyc2UodGhpcy4kcm91dGUucXVlcnkuZGV0YWlsT2JqKTsKICAgICAgfQogICAgICAvLyAzLiDlpoLmnpzku47mlLbol4/pobXot7Povazov4fmnaUKICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnN0b3JldXBPYmopIHsKICAgICAgICB0aGlzLmRldGFpbC5pZCA9IEpTT04ucGFyc2UodGhpcy4kcm91dGUucXVlcnkuc3RvcmV1cE9iaikucmVmaWQ7CiAgICAgIH0KCiAgICAgIC8vIC0tLSDnoa7kv53ojrflj5bliLAgSUQg5ZCO5YaN5Y+R6LW36K+35rGC77yM6YG/5YWNIHVuZGVmaW5lZCDplJnor68gLS0tCiAgICAgIGlmICh0aGlzLmRldGFpbC5pZCkgewogICAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMudGFibGVuYW1lICsgJy9kZXRhaWwvJyArIHRoaXMuZGV0YWlsLmlkLCB7fSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICB0aGlzLmRldGFpbCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmRldGFpbC5iaWFvdGk7CiAgICAgICAgICAgIHRoaXMuZGV0YWlsQmFubmVyID0gdGhpcy5kZXRhaWwuZmVuZ21pYW4gPyB0aGlzLmRldGFpbC5mZW5nbWlhbi5zcGxpdCgiLCIpIDogW107CiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8g6I635Y+W5pS26JeP54q25oCBCiAgICAgICAgdGhpcy5nZXRTdG9yZXVwU3RhdHVzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS53YXJuKCLmnKrojrflj5bliLDmnInmlYjnmoQgZGV0YWlsIElE77yM5peg5rOV6K+35rGC5pWw5o2uIik7CiAgICAgIH0KCiAgICAgIC8vIOiOt+WPlueDremXqOWIl+ihqO+8iOS4jemcgOimgSBJRO+8iQogICAgICB0aGlzLmdldEhvdExpc3QoKTsKICAgIH0sCiAgICB0b0RldGFpbChpdGVtKSB7CiAgICAgIC8vIOe7n+S4gOi3s+i9rOmAu+i+ke+8jOS8oOmAkiBkZXRhaWxPYmoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvaW5kZXgvcWljaGV6aXh1bkRldGFpbCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGRldGFpbE9iajogSlNPTi5zdHJpbmdpZnkoaXRlbSkKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyDlvLrliLbph43mlrDliqDovb3mlbDmja7vvIzlm6DkuLrmmK/lkIzot6/nlLHot7PovawKICAgICAgdGhpcy5kZXRhaWwgPSBpdGVtOwogICAgICB0aGlzLmluaXQoKTsKICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgIH0sCiAgICBnZXRIb3RMaXN0KCkgewogICAgICBsZXQgYXV0b1NvcnRVcmwgPSAicWljaGV6aXh1bi9hdXRvU29ydCI7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KGF1dG9Tb3J0VXJsLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgbGltaXQ6IDQKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICB0aGlzLmhvdExpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdG9yZXVwKHR5cGUpIHsKICAgICAgLy8gMS4g5qCh6aqM5pWw5o2u5a6M5pW05oCnCiAgICAgIGlmICghdGhpcy5kZXRhaWwuaWQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmlbDmja7liqDovb3lvILluLjvvIzml6Dms5Xmk43kvZwnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIDIuIOaguOW/g+S/ruWkje+8muajgOafpeeZu+W9leeKtuaAgQogICAgICAvLyDlv4Xpobvlrp7ml7bojrflj5YgdXNlcmlk77yM5LiN6IO95L6d6LWWIGRhdGEoKSDkuK3liJ3lp4vljJbnmoTlgLzvvIjlm6DkuLrlj6/og73mmK8gbnVsbO+8iQogICAgICBsZXQgdXNlcmlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpOwogICAgICBpZiAoIXVzZXJpZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOeZu+W9lScpOwogICAgICAgIC8vIOWPr+mAie+8muiHquWKqOi3s+i9rOWIsOeZu+W9lemhtQogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIDMuIOWHhuWkh+ivt+axguWPguaVsAogICAgICAvLyDnoa7kv53miYDmnInlrZfmrrXpg73mnInlgLzvvIzpmLLmraLlkI7nq6/miqXnqbrmjIfpkojplJnor68KICAgICAgdGhpcy5zdG9yZXVwUGFyYW1zLnVzZXJpZCA9IHVzZXJpZDsKICAgICAgdGhpcy5zdG9yZXVwUGFyYW1zLm5hbWUgPSB0aGlzLnRpdGxlOwogICAgICAvLyDlronlhajojrflj5blm77niYfvvIzlpoLmnpzmsqHmnInliJnkvKDnqbrlrZfnrKbkuLIKICAgICAgdGhpcy5zdG9yZXVwUGFyYW1zLnBpY3R1cmUgPSB0aGlzLmRldGFpbEJhbm5lciAmJiB0aGlzLmRldGFpbEJhbm5lci5sZW5ndGggPiAwID8gdGhpcy5kZXRhaWxCYW5uZXJbMF0gOiAnJzsKICAgICAgdGhpcy5zdG9yZXVwUGFyYW1zLnJlZmlkID0gdGhpcy5kZXRhaWwuaWQ7CiAgICAgIHRoaXMuc3RvcmV1cFBhcmFtcy50eXBlID0gdHlwZTsgLy8gdHlwZT0xIOihqOekuuaUtuiXjwoKICAgICAgLy8gNC4g5omn6KGM5pS26JeP6YC76L6RCiAgICAgIGlmICh0eXBlID09IDEgJiYgIXRoaXMuaXNTdG9yZXVwKSB7CiAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCdzdG9yZXVwL2FkZCcsIHRoaXMuc3RvcmV1cFBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICB0aGlzLmlzU3RvcmV1cCA9IHRydWU7CiAgICAgICAgICAgIC8vIOaUtuiXj+aIkOWKn+WQju+8jOmHjeaWsOiOt+WPluS4gOS4i+aUtuiXj+S/oeaBr++8jOS7peS+v+iOt+WPliBzdG9yZXVwSW5mby5pZCDnlKjkuo7lj5bmtojmlLbol48KICAgICAgICAgICAgdGhpcy5nZXRTdG9yZXVwU3RhdHVzKCk7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5pS26JeP5oiQ5YqfIScsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIDUuIOaJp+ihjOWPlua2iOaUtuiXj+mAu+i+kQogICAgICBpZiAodHlwZSA9PSAtMSAmJiB0aGlzLmlzU3RvcmV1cCkgewogICAgICAgIGlmICghdGhpcy5zdG9yZXVwSW5mbyB8fCAhdGhpcy5zdG9yZXVwSW5mby5pZCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+W5raI5aSx6LSl77yM5peg5rOV6I635Y+W5pS26JeP6K6w5b2VSUQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGRlbElkcyA9IG5ldyBBcnJheSgpOwogICAgICAgIGRlbElkcy5wdXNoKHRoaXMuc3RvcmV1cEluZm8uaWQpOwogICAgICAgIHRoaXMuJGh0dHAucG9zdCgnc3RvcmV1cC9kZWxldGUnLCBkZWxJZHMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgdGhpcy5pc1N0b3JldXAgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zdG9yZXVwSW5mbyA9IHt9OyAvLyDmuIXnqbrkv6Hmga8KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojmiJDlip8hJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldFN0b3JldXBTdGF0dXMoKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVG9rZW4iKSkgewogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCdzdG9yZXVwL2xpc3QnLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcGFnZTogMSwKICAgICAgICAgICAgbGltaXQ6IDEsCiAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgIHJlZmlkOiB0aGlzLmRldGFpbC5pZCwKICAgICAgICAgICAgdGFibGVuYW1lOiAncWljaGV6aXh1bicsCiAgICAgICAgICAgIHVzZXJpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCAmJiByZXMuZGF0YS5kYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLmlzU3RvcmV1cCA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuc3RvcmV1cEluZm8gPSByZXMuZGF0YS5kYXRhLmxpc3RbMF07CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkb3dubG9hZChmaWxlKSB7CiAgICAgIGlmICghZmlsZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6ICfmlofku7bkuI3lrZjlnKgnLAogICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgd2luZG93Lm9wZW4odGhpcy5iYXNlVXJsICsgZmlsZSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDb3VudERvd24KICB9Cn07"},{"version":3,"names":["CountDown","data","tablename","baseUrl","breadcrumbItem","name","title","detailBanner","endTime","hotList","detail","activeName","total","pageSize","pageSizes","totalPage","rules","content","required","message","trigger","storeupParams","picture","refid","userid","localStorage","getItem","isStoreup","storeupInfo","buynumber","created","init","methods","$config","$route","query","id","detailObj","JSON","parse","storeupObj","$http","get","then","res","code","biaoti","fengmian","split","$forceUpdate","getStoreupStatus","console","warn","getHotList","toDetail","item","$router","push","path","stringify","document","body","scrollTop","documentElement","autoSortUrl","params","page","limit","list","storeup","type","$message","error","length","post","duration","delIds","Array","download","file","window","open","components"],"sources":["src/pages/qichezixun/detail.vue"],"sourcesContent":["<template>\r\n  <div class=\"detail-container\">\r\n    <div class=\"breadcrumb-box\">\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/index' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>汽车资讯</el-breadcrumb-item>\r\n        <el-breadcrumb-item>详情</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <div class=\"main-content\" v-if=\"detail.id\">\r\n      <div class=\"top-section\">\r\n        <div class=\"carousel-box\">\r\n          <el-carousel trigger=\"click\" height=\"400px\" indicator-position=\"outside\">\r\n            <el-carousel-item v-for=\"(item, index) in detailBanner\" :key=\"index\">\r\n              <div class=\"image-wrapper\">\r\n                <el-image\r\n                    style=\"width: 100%; height: 100%\"\r\n                    :src=\"item.substr(0,4)=='http' ? item : baseUrl + item\"\r\n                    fit=\"cover\"\r\n                    class=\"carousel-image\">\r\n                </el-image>\r\n              </div>\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </div>\r\n\r\n        <div class=\"info-box\">\r\n          <h1 class=\"title\">{{ detail.biaoti }}</h1>\r\n\r\n          <div class=\"meta-row\">\r\n            <span class=\"meta-item\"><i class=\"el-icon-time\"></i> {{ detail.fabushijian }}</span>\r\n            <span class=\"meta-item\"><i class=\"el-icon-user\"></i> {{ detail.faburen }}</span>\r\n            <span class=\"meta-item\"><i class=\"el-icon-view\"></i> {{ detail.clicknum }}次浏览</span>\r\n          </div>\r\n\r\n          <div class=\"intro-box\">\r\n            <div class=\"label\">简介：</div>\r\n            <div class=\"content\">{{ detail.jianjie }}</div>\r\n          </div>\r\n\r\n          <div class=\"actions\">\r\n            <div class=\"store-btn\" @click=\"storeup(1)\" v-if=\"!isStoreup\">\r\n              <i class=\"el-icon-star-off\"></i> 收藏资讯\r\n            </div>\r\n            <div class=\"store-btn active\" @click=\"storeup(-1)\" v-else>\r\n              <i class=\"el-icon-star-on\"></i> 已收藏\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"content-section\">\r\n        <el-tabs v-model=\"activeName\" type=\"border-card\">\r\n          <el-tab-pane label=\"详细内容\" name=\"first\">\r\n            <div class=\"rich-text\" v-html=\"detail.neirong\"></div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n\r\n      <div class=\"hot-section\">\r\n        <div class=\"section-header\">\r\n          <span>热门推荐</span>\r\n        </div>\r\n        <div class=\"hot-list\">\r\n          <div\r\n              class=\"hot-item\"\r\n              v-for=\"item in hotList\"\r\n              :key=\"item.id\"\r\n              @click=\"toDetail(item)\"\r\n          >\r\n            <div class=\"img-box\">\r\n              <el-image\r\n                  v-if=\"item.fengmian\"\r\n                  style=\"width: 100%; height: 100%\"\r\n                  :src=\"baseUrl + item.fengmian.split(',')[0]\"\r\n                  fit=\"cover\">\r\n              </el-image>\r\n            </div>\r\n            <div class=\"info\">\r\n              <div class=\"hot-title\">{{ item.biaoti }}</div>\r\n              <div class=\"hot-meta\">{{ item.faburen }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"loading-state\">\r\n      <i class=\"el-icon-loading\"></i> 正在加载详情...\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CountDown from '@/components/CountDown';\r\n\r\nexport default {\r\n  //数据集合\r\n  data() {\r\n    return {\r\n      tablename: 'qichezixun',\r\n      baseUrl: '',\r\n      breadcrumbItem: [\r\n        {\r\n          name: '详情信息'\r\n        }\r\n      ],\r\n      title: '',\r\n      detailBanner: [],\r\n      endTime: 0,\r\n      hotList: [],\r\n      detail: {},\r\n      activeName: 'first',\r\n      total: 1,\r\n      pageSize: 5,\r\n      pageSizes: [10, 20, 30, 50],\r\n      totalPage: 1,\r\n      rules: {\r\n        content: [\r\n          { required: true, message: '请输入内容', trigger: 'blur' }\r\n        ]\r\n      },\r\n      storeupParams: {\r\n        name: '',\r\n        picture: '',\r\n        refid: 0,\r\n        tablename: 'qichezixun',\r\n        userid: localStorage.getItem('userid')\r\n      },\r\n      isStoreup: false,\r\n      storeupInfo: {},\r\n      buynumber: 1,\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  //方法集合\r\n  methods: {\r\n    init() {\r\n      this.baseUrl = this.$config.baseUrl;\r\n\r\n      // --- 核心修复：兼容多种参数传递方式 ---\r\n      // 1. 如果 URL 中直接包含 id 参数 (如 ?id=81)\r\n      if(this.$route.query.id) {\r\n        this.detail.id = this.$route.query.id;\r\n      }\r\n      // 2. 如果 URL 包含 detailObj 对象字符串\r\n      if (this.$route.query.detailObj) {\r\n        this.detail = JSON.parse(this.$route.query.detailObj);\r\n      }\r\n      // 3. 如果从收藏页跳转过来\r\n      if (this.$route.query.storeupObj) {\r\n        this.detail.id = JSON.parse(this.$route.query.storeupObj).refid;\r\n      }\r\n\r\n      // --- 确保获取到 ID 后再发起请求，避免 undefined 错误 ---\r\n      if (this.detail.id) {\r\n        this.$http.get(this.tablename + '/detail/' + this.detail.id, {}).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.detail = res.data.data;\r\n            this.title = this.detail.biaoti;\r\n            this.detailBanner = this.detail.fengmian ? this.detail.fengmian.split(\",\") : [];\r\n            this.$forceUpdate();\r\n          }\r\n        });\r\n        // 获取收藏状态\r\n        this.getStoreupStatus();\r\n      } else {\r\n        console.warn(\"未获取到有效的 detail ID，无法请求数据\");\r\n      }\r\n\r\n      // 获取热门列表（不需要 ID）\r\n      this.getHotList();\r\n    },\r\n    toDetail(item) {\r\n      // 统一跳转逻辑，传递 detailObj\r\n      this.$router.push({ path: '/index/qichezixunDetail', query: { detailObj: JSON.stringify(item) } });\r\n      // 强制重新加载数据，因为是同路由跳转\r\n      this.detail = item;\r\n      this.init();\r\n      document.body.scrollTop = 0;\r\n      document.documentElement.scrollTop = 0;\r\n    },\r\n    getHotList() {\r\n      let autoSortUrl = \"qichezixun/autoSort\";\r\n      this.$http.get(autoSortUrl, {\r\n        params: {\r\n          page: 1,\r\n          limit: 4,\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code == 0) {\r\n          this.hotList = res.data.data.list;\r\n        }\r\n      })\r\n    },\r\n    storeup(type) {\r\n      // 1. 校验数据完整性\r\n      if (!this.detail.id) {\r\n        this.$message.error('数据加载异常，无法操作');\r\n        return;\r\n      }\r\n\r\n      // 2. 核心修复：检查登录状态\r\n      // 必须实时获取 userid，不能依赖 data() 中初始化的值（因为可能是 null）\r\n      let userid = localStorage.getItem('userid');\r\n      if (!userid) {\r\n        this.$message.error('请先登录');\r\n        // 可选：自动跳转到登录页\r\n        // this.$router.push('/login');\r\n        return;\r\n      }\r\n\r\n      // 3. 准备请求参数\r\n      // 确保所有字段都有值，防止后端报空指针错误\r\n      this.storeupParams.userid = userid;\r\n      this.storeupParams.name = this.title;\r\n      // 安全获取图片，如果没有则传空字符串\r\n      this.storeupParams.picture = (this.detailBanner && this.detailBanner.length > 0) ? this.detailBanner[0] : '';\r\n      this.storeupParams.refid = this.detail.id;\r\n      this.storeupParams.type = type; // type=1 表示收藏\r\n\r\n      // 4. 执行收藏逻辑\r\n      if (type == 1 && !this.isStoreup) {\r\n        this.$http.post('storeup/add', this.storeupParams).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.isStoreup = true;\r\n            // 收藏成功后，重新获取一下收藏信息，以便获取 storeupInfo.id 用于取消收藏\r\n            this.getStoreupStatus();\r\n            this.$message({\r\n              type: 'success',\r\n              message: '收藏成功!',\r\n              duration: 1500,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      // 5. 执行取消收藏逻辑\r\n      if (type == -1 && this.isStoreup) {\r\n        if (!this.storeupInfo || !this.storeupInfo.id) {\r\n          this.$message.error('取消失败，无法获取收藏记录ID');\r\n          return;\r\n        }\r\n        let delIds = new Array();\r\n        delIds.push(this.storeupInfo.id);\r\n        this.$http.post('storeup/delete', delIds).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.isStoreup = false;\r\n            this.storeupInfo = {}; // 清空信息\r\n            this.$message({\r\n              type: 'success',\r\n              message: '取消成功!',\r\n              duration: 1500,\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getStoreupStatus() {\r\n      if (localStorage.getItem(\"Token\")) {\r\n        this.$http.get('storeup/list', { params: { page: 1, limit: 1, type: 1, refid: this.detail.id, tablename: 'qichezixun', userid: localStorage.getItem('userid') } }).then(res => {\r\n          if (res.data.code == 0 && res.data.data.list.length > 0) {\r\n            this.isStoreup = true;\r\n            this.storeupInfo = res.data.data.list[0];\r\n          }\r\n        });\r\n      }\r\n    },\r\n    download(file) {\r\n      if (!file) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '文件不存在',\r\n          duration: 1500,\r\n        });\r\n        return;\r\n      }\r\n      window.open(this.baseUrl + file)\r\n    },\r\n  },\r\n  components: {\r\n    CountDown\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.detail-container {\r\n  width: 100%;\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.loading-state {\r\n  padding: 50px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 16px;\r\n}\r\n\r\n.breadcrumb-box {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px 0;\r\n}\r\n\r\n.main-content {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* 顶部区域 */\r\n.top-section {\r\n  display: flex;\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 20px;\r\n  gap: 30px;\r\n}\r\n\r\n.carousel-box {\r\n  width: 50%;\r\n  flex-shrink: 0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n\r\n  /* 修复 el-carousel 内部可能的圆角溢出 */\r\n  /deep/ .el-carousel__item {\r\n    border-radius: 8px;\r\n  }\r\n}\r\n\r\n.image-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.info-box {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .title {\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin: 0 0 15px 0;\r\n    line-height: 1.4;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .meta-row {\r\n    display: flex;\r\n    gap: 20px;\r\n    color: #999;\r\n    font-size: 14px;\r\n    margin-bottom: 20px;\r\n\r\n    .meta-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 5px;\r\n    }\r\n  }\r\n\r\n  .intro-box {\r\n    background: #f8f9fa;\r\n    padding: 15px;\r\n    border-radius: 6px;\r\n    margin-bottom: 20px;\r\n    border-left: 4px solid #409EFF;\r\n\r\n    .label {\r\n      font-weight: bold;\r\n      margin-bottom: 8px;\r\n      color: #666;\r\n    }\r\n\r\n    .content {\r\n      color: #666;\r\n      line-height: 1.6;\r\n      font-size: 14px;\r\n      max-height: 150px;\r\n      overflow-y: auto;\r\n    }\r\n  }\r\n\r\n  .actions {\r\n    margin-top: auto;\r\n    display: flex;\r\n    gap: 15px;\r\n\r\n    .store-btn {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      gap: 6px;\r\n      padding: 10px 25px;\r\n      border-radius: 20px;\r\n      cursor: pointer;\r\n      font-size: 14px;\r\n      transition: all 0.3s;\r\n      border: 1px solid #dcdfe6;\r\n      color: #606266;\r\n      background: #fff;\r\n\r\n      &:hover {\r\n        border-color: #409EFF;\r\n        color: #409EFF;\r\n      }\r\n\r\n      &.active {\r\n        background: #fff;\r\n        border-color: #ffba00;\r\n        color: #ffba00;\r\n      }\r\n\r\n      i {\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 内容区域 */\r\n.content-section {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 20px;\r\n  overflow: hidden;\r\n\r\n  /* 使用 /deep/ 替代 ::v-deep 以获得更好兼容性 */\r\n  /deep/ .el-tabs--border-card {\r\n    border: none;\r\n    box-shadow: none;\r\n  }\r\n\r\n  /deep/ .el-tabs__header {\r\n    background-color: #f5f7fa;\r\n    border-bottom: 1px solid #e4e7ed;\r\n  }\r\n\r\n  /deep/ .el-tabs__item.is-active {\r\n    color: #409EFF;\r\n    font-weight: bold;\r\n    border-top: 2px solid #409EFF; /* 增加选中态的顶部高亮 */\r\n  }\r\n\r\n  .rich-text {\r\n    padding: 20px;\r\n    min-height: 300px;\r\n    line-height: 1.8;\r\n    color: #333;\r\n\r\n    /deep/ img {\r\n      max-width: 100%;\r\n      height: auto;\r\n      display: block;\r\n      margin: 10px auto;\r\n    }\r\n  }\r\n}\r\n\r\n/* 热门推荐 */\r\n.hot-section {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  padding: 20px;\r\n\r\n  .section-header {\r\n    border-left: 4px solid #409EFF;\r\n    padding-left: 10px;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n  }\r\n\r\n  .hot-list {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 20px;\r\n  }\r\n\r\n  .hot-item {\r\n    flex: 1;\r\n    cursor: pointer;\r\n    transition: transform 0.3s;\r\n    background: #fff;\r\n\r\n    &:hover {\r\n      transform: translateY(-5px);\r\n\r\n      .hot-title {\r\n        color: #409EFF;\r\n      }\r\n    }\r\n\r\n    .img-box {\r\n      width: 100%;\r\n      height: 160px;\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      margin-bottom: 10px;\r\n      background: #eee;\r\n    }\r\n\r\n    .info {\r\n      .hot-title {\r\n        font-size: 15px;\r\n        color: #333;\r\n        margin-bottom: 6px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        font-weight: 500;\r\n      }\r\n\r\n      .hot-meta {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}